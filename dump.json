[
  {
    "__docId__": 0,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/cli.js",
    "memberof": null,
    "longname": "src/cli.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport bytes from \"bytes\";\nimport parseTorrent from \"parse-torrent\";\nimport path from \"path\";\nimport program from \"commander\";\nimport prompt from \"prompt\";\nimport torrentHealth from \"torrent-tracker-health\";\n\nimport Index from \"./index\";\nimport AnimeHelper from \"./providers/helpers/animehelper\";\nimport MovieHelper from \"./providers/helpers/moviehelper\";\nimport ShowHelper from \"./providers/helpers/showhelper\";\nimport Logger from \"./config/logger\";\nimport packageJSON from \"../package.json\";\nimport Setup from \"./config/setup\";\nimport Util from \"./util\";\n\n/** Class The class for the command line interface. */\nexport default class CLI {\n\n  /**\n   * Create a cli object.\n   * @param {String} [providerName=CLI] - The default provider name.\n   */\n  constructor(providerName = \"CLI\") {\n    /**\n     * The name of the CLI provider.\n     * @type {String}\n     */\n    CLI._providerName = providerName;\n\n    /**\n     * The logger object to configure the logging.\n     * @type {Logger}\n     */\n    CLI._logger = new Logger();\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n      */\n    this._util = new Util();\n\n    // Setup the CLI program.\n    program\n      .version(`${packageJSON.name} v${packageJSON.version}`)\n      .option(\"-c, --content <type>\", \"Add content from the MongoDB database (anime | show | movie).\", /^(anime)|^(show)|^(movie)/i, false)\n      .option(\"-r, --run\", \"Run the API and start the scraping process.\")\n      .option(\"-s, --server\", \"Run the API without starting the scraping process.\")\n      .option(\"-e, --export <collection>\", \"Export a collection to a JSON file.\", /^(anime)|^(show)|^(movie)/i, false)\n      .option(\"-i, --import <collection>\", \"Import a JSON file to the database.\");\n\n    // Extra output on top of the default help output\n    program.on(\"--help\", () => {\n      console.info(\"  Examples:\");\n      console.info(\"\");\n      console.info(\"    $ popcorn-api -c <anime|movie|show>\");\n      console.info(\"    $ popcorn-api --content <anime|movie|show>\");\n      console.info(\"\");\n      console.info(\"    $ popcorn-api -r\");\n      console.info(\"    $ popcorn-api --run\");\n      console.info(\"\");\n      console.info(\"    $ popcorn-api -s\");\n      console.info(\"    $ popcorn-api --server\");\n      console.info(\"\");\n      console.info(\"    $ popcorn-api -e <anime|movie|show>\");\n      console.info(\"    $ popcorn-api --export <anime|movie|show>\");\n      console.info(\"\");\n      console.info(\"    $ popcorn-api -i <path-to-json>\");\n      console.info(\"    $ popcorn-api --import <path-to-json>\");\n      console.info(\"\");\n    });\n\n    // Parse the command line arguments.\n    program.parse(process.argv);\n\n    // The imdb property.\n    const imdb = {\n      description: \"The imdb id of the show/movie to add (tt1234567)\",\n      type: \"string\",\n      pattern: /^(tt\\d{7}|)|^(.*)/i,\n      message: \"Not a valid imdb id.\",\n      required: true\n    };\n\n    // The Hummingbird id property.\n    const hummingbirdId = {\n      description: \"The Hummingbird id of the anime to add\",\n      type: \"string\",\n      pattern: /^(.*)/i,\n      message: \"Not a validHhummingbird id.\",\n      required: true\n    };\n\n    // The torrent property.\n    const torrent = {\n      description: \"The link of the torrent to add\",\n      type: \"string\",\n      message: \"Not a valid torrent.\",\n      required: true\n    };\n\n    // The language property.\n    const language = {\n      description: \"The language of the torrent to add (en, fr, jp)\",\n      type: \"string\",\n      pattern: /^([a-zA-Z]{2})/i,\n      message: \"Not a valid language\",\n      required: true\n    };\n\n    // The quality property.\n    const quality = {\n      description: \"The quality of the torrent (480p | 720p | 1080p)\",\n      type: \"string\",\n      pattern: /^(480p|720p|1080p)/i,\n      message: \"Not a valid quality.\",\n      required: true\n    };\n\n    // The season property.\n    const season = {\n      description: \"The season number of the torrent\",\n      type: \"integer\",\n      pattern: /^(\\d+)/i,\n      message: \"Not a valid season.\",\n      required: true\n    };\n\n    // The episode property.\n    const episode = {\n      description: \"The episode number of the torrent\",\n      type: \"integer\",\n      pattern: /^(\\d+)/i,\n      message: \"Not a valid episode.\",\n      required: true\n    };\n\n    const confirm = {\n      description: \"Do you really want to import a collection, this can override the current data?\",\n      type: \"string\",\n      pattern: /^(yes|no|y|n)$/i,\n      message: \"Type yes/no\",\n      required: true,\n      default: \"no\"\n    };\n\n    /**\n     * The shema used by `prompt` insert an anime show.\n     * @type {Object}\n     */\n    this._animeSchema = {\n      properties: {\n        \"hummingbirdId\": hummingbirdId,\n        \"season\": season,\n        \"episode\": episode,\n        \"torrent\": torrent,\n        \"quality\": quality\n      }\n    };\n\n    /**\n     * The schema used by `prompt` insert a movie.\n     * @type {Object}\n     */\n    this._movieSchema = {\n      properties: {\n        \"imdb\": imdb,\n        \"language\": language,\n        \"torrent\": torrent,\n        \"quality\": quality\n      }\n    };\n\n    /**\n     * The schema used by `prompt` insert a show.\n     * @type {Object}\n     */\n    this._showSchema = {\n      properties: {\n        \"imdb\": imdb,\n        \"season\": season,\n        \"episode\": episode,\n        \"torrent\": torrent,\n        \"quality\": quality\n      }\n    };\n\n    /**\n     * The schema used by `prompt` to confirm an import.\n     * @type {Object}\n     */\n    this._importSchema = {\n      properties: {\n        \"confirm\": confirm\n      }\n    };\n  };\n\n  /** Adds a show to the database through the CLI. */\n  _animePrompt() {\n    prompt.get(this._animeSchema, async(err, result) => {\n      if (err) {\n        console.error(`An error occurred: ${err}`);\n        process.exit(1);\n      } else {\n        try {\n          const { hummingbirdId, season, episode, quality, torrent } = result;\n          const animeHelper = new AnimeHelper(CLI._providerName);\n          const newAnime = await animeHelper.getHummingbirdInfo(hummingbirdId);\n          if (newAnime && newAnime._id) {\n            const data = await this._getShowTorrentDataRemote(torrent, quality, season, episode);\n            await animeHelper.addEpisodes(newAnime, data, hummingbirdId);\n            process.exit(0);\n          }\n        } catch (err) {\n          console.error(`An error occurred: ${err}`);\n          process.exit(1);\n        }\n      }\n    });\n  };\n\n  /**\n   * Get movie data from a given torrent url.\n   * @param {String} torrent - The url of the torrent.\n   * @param {String} language - The language of the torrent.\n   * @param {String} quality - The quality of the torrent.\n   * @returns {Promise} - Movie data from the torrent.\n   */\n  _getMovieTorrentDataRemote(torrent, language, quality) {\n    return new Promise((resolve, reject) => {\n      parseTorrent.remote(torrent, (err, result) => {\n        if (err) return reject(err);\n\n        const magnet = parseTorrent.toMagnetURI(result);\n        torrentHealth(magnet).then(res => {\n          const { seeds, peers } = res;\n          const data = {};\n          if (!data[language]) data[language] = {};\n          if (!data[language][quality]) data[language][quality] = {\n            url: magnet,\n            seed: seeds,\n            peer: peers,\n            size: result.length,\n            filesize: bytes(result.length),\n            provider: CLI._providerName\n          };\n          return resolve(data);\n        }).catch(err => reject(err));\n      });\n    });\n  };\n\n  /** Adds a movie to the database through the CLI. */\n  _moviePrompt() {\n    prompt.get(this._movieSchema, async(err, result) => {\n      if (err) {\n        console.error(`An error occurred: ${err}`);\n        process.exit(1);\n      } else {\n        try {\n          const { imdb, quality, language, torrent } = result;\n          const movieHelper = new MovieHelper(CLI._providerName);\n          const newMovie = await movieHelper.getTraktInfo(imdb);\n          if (newMovie && newMovie._id) {\n            const data = await this._getMovieTorrentDataRemote(torrent, language, quality);\n            await movieHelper.addTorrents(newMovie, data);\n            process.exit(0);\n          }\n        } catch (err) {\n          console.error(`An error occurred: ${err}`);\n          process.exit(1);\n        }\n      }\n    });\n  };\n\n  /**\n   * Get show data from a given torrent url.\n   * @param {String} torrent - The url of the torrent.\n   * @param {String} quality - The quality of the torrent.\n   * @param {Integer} season - The season of the show from the torrent file.\n   * @param {Integer} episode - The episode of the show from the torrent.\n   * @returns {Promise} - Show data from the torrent.\n   */\n  _getShowTorrentDataRemote(torrent, quality, season, episode) {\n    return new Promise((resolve, reject) => {\n      parseTorrent.remote(torrent, (err, result) => {\n        if (err) return reject(err);\n\n        const magnet = parseTorrent.toMagnetURI(result);\n        torrentHealth(magnet).then(res => {\n          const { seeds, peers } = res;\n          const data = {};\n          if (!data[season]) data[season] = {};\n          if (!data[season][episode]) data[season][episode] = {};\n          if (!data[season][episode][quality]) data[season][episode][quality] = {\n            url: magnet,\n            seeds,\n            peers,\n            provider: CLI._providerName\n          };\n          return resolve(data);\n        }).catch(err => reject(err));\n      });\n    });\n  };\n\n  /** Adds a show to the database through the CLI. */\n  _showPrompt() {\n    prompt.get(this._showSchema, async(err, result) => {\n      if (err) {\n        console.error(`An error occurred: ${err}`);\n        process.exit(1);\n      } else {\n        try {\n          const { imdb, season, episode, quality, torrent } = result;\n          const showHelper = new ShowHelper(CLI._providerName);\n          const newShow = await showHelper.getTraktInfo(imdb);\n          if (newShow && newShow._id) {\n            const data = await this._getShowTorrentDataRemote(torrent, quality, season, episode);\n            await showHelper.addEpisodes(newShow, data, imdb);\n            process.exit(0);\n          }\n        } catch (err) {\n          console.error(`An error occurred: ${err}`);\n          process.exit(1);\n        }\n      }\n    });\n  };\n\n  /** Confimation to import a collection */\n  _importPrompt() {\n    prompt.get(this._importSchema, (err, result) => {\n      if (err) {\n        console.error(`An error occured: ${err}`);\n        process.exit(1);\n      } else {\n        if (result.confirm.match(/^(y|yes)/i)) {\n          let collection = path.basename(program.import);\n          const index = collection.lastIndexOf(\".\");\n          collection = collection.substring(0, index);\n          this._util.importCollection(collection, program.import)\n            .catch(err => console.error(err));\n        } else if (result.confirm.match(/^(n|no)/i)) {\n          process.exit(0);\n        }\n      }\n    });\n  };\n\n  /** Run the CLI program. */\n  run() {\n    if (program.run) {\n      new Index({\n        start: true,\n        pretty: true,\n        verbose: false,\n        debug: false\n      });\n    } else if (program.server) {\n      new Index({\n        start: false,\n        pretty: true,\n        verbose: false,\n        debug: false\n      });\n    } else if (program.content) {\n      prompt.start();\n      Setup.connectMongoDB();\n\n      if (program.content.match(/^(show)/i)) {\n        this._showPrompt();\n      } else if (program.content.match(/^(movie)/i)) {\n        this._moviePrompt();\n      } else if (program.content.match(/^(anime)/i)) {\n        this._animePrompt();\n      } else {\n        console.error(`\\n  \\x1b[31mError:\\x1b[36m No valid value given for adding content: '${program.content}'\\x1b[0m`)\n      }\n    } else if (program.export) {\n      this._util.exportCollection(program.export);\n    } else if (program.import) {\n      this._importPrompt();\n    } else {\n      console.error(\"\\n  \\x1b[31mError:\\x1b[36m No valid command given. Please check below:\\x1b[0m\");\n      program.help();\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 1,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "CLI",
    "memberof": "src/cli.js",
    "longname": "src/cli.js~CLI",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/cli.js",
    "importStyle": "CLI",
    "description": "Class The class for the command line interface.",
    "lineNumber": 19,
    "interface": false
  },
  {
    "__docId__": 2,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#constructor",
    "access": null,
    "description": "Create a cli object.",
    "lineNumber": 25,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "CLI",
        "defaultRaw": "CLI",
        "name": "providerName",
        "description": "The default provider name."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 3,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 42,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 4,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_animeSchema",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_animeSchema",
    "access": null,
    "description": "The shema used by `prompt` insert an anime show.",
    "lineNumber": 152,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 5,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_movieSchema",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_movieSchema",
    "access": null,
    "description": "The schema used by `prompt` insert a movie.",
    "lineNumber": 166,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 6,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_showSchema",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_showSchema",
    "access": null,
    "description": "The schema used by `prompt` insert a show.",
    "lineNumber": 179,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 7,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_importSchema",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_importSchema",
    "access": null,
    "description": "The schema used by `prompt` to confirm an import.",
    "lineNumber": 193,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 8,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_animePrompt",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_animePrompt",
    "access": null,
    "description": "Adds a show to the database through the CLI.",
    "lineNumber": 201,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 9,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getMovieTorrentDataRemote",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_getMovieTorrentDataRemote",
    "access": null,
    "description": "Get movie data from a given torrent url.",
    "lineNumber": 231,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - Movie data from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "The url of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "language",
        "description": "The language of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "quality",
        "description": "The quality of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "Movie data from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 10,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_moviePrompt",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_moviePrompt",
    "access": null,
    "description": "Adds a movie to the database through the CLI.",
    "lineNumber": 256,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 11,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getShowTorrentDataRemote",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_getShowTorrentDataRemote",
    "access": null,
    "description": "Get show data from a given torrent url.",
    "lineNumber": 287,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - Show data from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "The url of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "quality",
        "description": "The quality of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "season",
        "description": "The season of the show from the torrent file."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "episode",
        "description": "The episode of the show from the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "Show data from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 12,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_showPrompt",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_showPrompt",
    "access": null,
    "description": "Adds a show to the database through the CLI.",
    "lineNumber": 311,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 13,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_importPrompt",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#_importPrompt",
    "access": null,
    "description": "Confimation to import a collection",
    "lineNumber": 335,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 14,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "run",
    "memberof": "src/cli.js~CLI",
    "longname": "src/cli.js~CLI#run",
    "access": null,
    "description": "Run the CLI program.",
    "lineNumber": 355,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 15,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/config/constants.js",
    "memberof": null,
    "longname": "src/config/constants.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport Fanart from \"fanart.tv-api\";\nimport path from \"path\";\nimport OMDB from \"omdb-api-pt\";\nimport Trakt from \"trakt.tv\";\nimport TVDB from \"node-tvdb\";\n\n/**\n * Map object for correcting anime slugs.\n * @type {Object}\n */\nexport const animeMap = {\n  \"91-days\": \"ninety-one-days\",\n  \"ace-attorney\": \"gyakuten-saiban\",\n  \"ace-of-diamond\": \"diamond-no-ace\",\n  \"active-raid\": \"active-raid-kidou-kyoushuushitsu-dai-hakkei\",\n  \"ai-mai-mi-mousou-catastrophie\": \"ai-mai-mi-mousou-catastrophe\",\n  \"akagami-no-shirayukihime\": \"akagami-no-shirayuki-hime\",\n  \"akb0048\": \"akb0048-first-stage\",\n  \"alderamin-on-the-sky\": \"nejimaki-seirei-senki-tenkyou-no-alderamin\",\n  \"ani-tore-ex\": \"anitore-ex\",\n  \"argevollen\": \"shirogane-no-ishi-argevollen\",\n  \"arpeggio-of-blue-steel-ars-nova\": \"aoki-hagane-no-arpeggio-ars-nova\",\n  \"arslan-senki\": \"kigyou-senshi-arslan\",\n  \"assassination-classroom\": \"ansatsu-kyoushitsu\",\n  \"b-project\": \"b-project-kodou-ambitious\",\n  \"battle-girls-time-paradox\": \"sengoku-otome-momoiro-paradox\",\n  \"blazbluealter-memory\": \"blazblue-alter-memory\",\n  \"bonjour-sweet-love-patisserie\": \"bonjour-koiaji-patisserie\",\n  \"bottom-biting-bug\": \"oshiri-kajiri-mushi\",\n  \"brotherhoodfinal-fantasy-xv\": \"brotherhood-final-fantasy-xv\",\n  \"brynhildr-in-the-darkness\": \"gokukoku-no-brynhildr\",\n  \"cardfight-vanguard-g-girs-crisis\": \"cardfight-vanguard-g-gears-crisis-hen\",\n  \"chaos-dragon\": \"chaos-dragon-sekiryuu-seneki\",\n  \"concrete-revolutio\": \"concrete-revolutio-choujin-gensou\",\n  \"croisee-in-a-foreign-labyrinth\": \"ikoku-meiro-no-croisee\",\n  \"cross-ange\": \"cross-ange-tenshi-to-ryuu-no-rinbu\",\n  \"d.gray-man-hallow\": \"d-gray-man-hallow\",\n  \"daimidaler\": \"kenzen-robo-daimidaler\",\n  \"danganronpa-3-future-arc\": \"danganronpa-3-the-end-of-kibougamine-gakuen-mirai-hen\",\n  \"danganronpa-the-animation\": \"danganronpa-kibou-no-gakuen-to-zetsubou-no-koukousei-the-animation\",\n  \"danmachi\": \"dungeon-ni-deai-wo-motomeru-no-wa-machigatteiru-no-darou-ka\",\n  \"dd-hokuto-no-ken-2-ichigo-aji-\": \"dd-hokuto-no-ken-2-ichigo-aji\",\n  \"diabolik-lovers-more-blood\": \"diabolik-lovers-2nd-season\",\n  \"digimon-adventure-tri\": \"digimon-adventure-tri-4\",\n  \"dusk-maiden-of-amnesia\": \"tasogare-otome-x-amnesia\",\n  \"ebiten\": \"ebiten-kouritsu-ebisugawa-koukou-tenmonbu\",\n  \"engaged-to-the-unidentified\": \"mikakunin-de-shinkoukei\",\n  \"fuse-memoirs-of-the-hunter-girl\": \"fuse-teppou-musume-no-torimonochou\",\n  \"garo-the-animation\": \"garo-honoo-no-kokuin-special\",\n  \"garo-the-crimson-moon\": \"garo-guren-no-tsuki\",\n  \"garothe-crimson-moon\": \"garo-guren-no-tsuki\",\n  \"gate\": \"gate-jieitai-kanochi-nite-kaku-tatakaeri\",\n  \"gen-ei-o-kakeru-taiyou-il-sole-penetra-le-illusioni\": \"genei-wo-kakeru-taiyou\",\n  \"ghost-in-the-shell-arise-alternative-architecture\": \"ghost-in-the-shell-arise-tv\",\n  \"girl-friend-beta\": \"girlfriend-kari\",\n  \"gundam-reconguista-in-g\": \"gundam-g-no-reconguista\",\n  \"gundam-unicorn\": \"mobile-suit-gundam-unicorn\",\n  \"hackadoll-the-animation\": \"hacka-doll-the-animation\",\n  \"hakkenden-eight-dogs-of-the-east\": \"hakkenden-touhou-hakken-ibun\",\n  \"hakuoki-reimeiroku\": \"hakuouki-reimeiroku\",\n  \"hamatora\": \"hamatora-the-animation\",\n  \"haruchika\": \"haruchika-haruta-to-chika-wa-seishun-suru\",\n  \"hayate-no-gotoku-cuties\": \"hayate-the-combat-butler-cuties\",\n  \"hentai-ouji-to-warawanai-neko\": \"hentai-ouji-to-warawanai-neko-specials\",\n  \"hi-scoool-seha-girl\": \"sega-hard-girls\",\n  \"highschool-dxd-born\": \"high-school-dxd-born\",\n  \"hozuki-no-reitetsu\": \"hoozuki-no-reitetsu\",\n  \"hyperdimension-neptunia-the-animation\": \"choujigen-game-neptune-the-animation\",\n  \"imocho-another-shitty-sister-ln-adaptation\": \"saikin-imouto-no-yousu-ga-chotto-okashiin-da-ga\",\n  \"infinite-stratos-2\": \"is-infinite-stratos-2\",\n  \"inu-x-boku-secret-service\": \"inu-x-boku-ss\",\n  \"k-return-of-kings\": \"k-2015\",\n  \"k\": \"k-project\",\n  \"kaasan-mom-s-life\": \"mainichi-kaasan\",\n  \"kabaneri-of-the-iron-fortress\": \"koutetsujou-no-kabaneri\",\n  \"kaiji-s2-against-all-rules\": \"gyakkyou-burai-kaiji-hakairoku-hen\",\n  \"kaiji-ultimate-survivor\": \"gyakkyou-burai-kaiji-ultimate-survivor\",\n  \"kamisama-kiss-2\": \"kamisama-hajimemashita-2\",\n  \"kamisama-kiss\": \"kamisama-hajimemashita-kiss\",\n  \"kamisama-no-memo-chou\": \"kamisama-no-memochou\",\n  \"kateikyoushi-hitman-reborn\": \"katekyo-hitman-reborn\",\n  \"kindaichi-case-files-r\": \"kindaichi-shounen-no-jikenbo-returns\",\n  \"kuroko-s-basketball\": \"kuroko-no-basket\",\n  \"kuroshitsuji-book-of-circus\": \"black-butler-book-of-circus\",\n  \"kyoukaisenjou-no-horizon\": \"horizon-in-the-middle-of-nowhere\",\n  \"la-corda-d-oro-blue-sky\": \"kiniro-no-corda-blue-sky\",\n  \"la-storia-della-arcana-famiglia\": \"arcana-famiglia\",\n  \"lance-n--masques\": \"lance-n-masques\",\n  \"litchi-hikari-club\": \"litchi-de-hikari-club\",\n  \"little-witch-academia-the-enchanted-parade\": \"little-witch-academia-2\",\n  \"locodol\": \"futsuu-no-joshikousei-ga-locodol-yatte-mita\",\n  \"love-live-the-school-idol-movie\": \"love-live-school-idol-project-movie\",\n  \"luck-&-logic\": \"luck-logic\",\n  \"lupin-iii-(2015)\": \"lupin-iii\",\n  \"magi\": \"magi-the-labyrinth-of-magic\",\n  \"magic-kaito-1412\": \"magic-kaito-tv\",\n  \"magical-girl-lyrical-nanoha-the-movie-2nd\": \"mahou-shoujo-lyrical-nanoha-the-movie-2nd-a-s\",\n  \"mahouka\": \"mahouka-koukou-no-rettousei\",\n  \"majestic-prince\": \"ginga-kikoutai-majestic-prince\",\n  \"majikoi~oh-samurai-girls\": \"maji-de-watashi-ni-koi-shinasai\",\n  \"mangaka-san-to-assistant-san-to\": \"mangaka-san-to-assistant-san-to-the-animation\",\n  \"maoyuu-maou-yuusha\": \"maoyu\",\n  \"maria-the-virgin-witch\": \"junketsu-no-maria\",\n  \"mekakucity-actors\": \"mekaku-city-actors\",\n  \"mondaijitachi-ga-isekai-kara-kuru-sou-desu-yo\": \"problem-children-are-coming-from-another-world-aren-t-they\",\n  \"moretsu-pirates\": \"bodacious-space-pirates\",\n  \"moritasan-wa-mukuchi\": \"morita-san-wa-mukuchi\",\n  \"mushibugyo\": \"mushibugyou\",\n  \"mushishi-tokubetsu-hen-hihamukage\": \"mushishi-special-hihamukage\",\n  \"my-sister-came-onee-chan-ga-kita\": \"onee-chan-ga-kita\",\n  \"naruto-sd-rock-lee-no-seishun-full-power-ninden\": \"rock-lee-no-seishun-full-power-ninden\",\n  \"naruto-shippuuden\": \"naruto-shippuden\",\n  \"ninja-slayer\": \"ninja-slayer-from-animation\",\n  \"no-rin\": \"nourin\",\n  \"no.-6\": \"no-6\",\n  \"non-non-biyori-repeat\": \"non-non-biyori-2\",\n  \"noukome\": \"noucome-my-mental-choices-are-completely-interfering-with-my-school-romantic-comedy\",\n  \"okusama-ga-seitokaichou\": \"okusama-ga-seitokaichou-okusama-gekijou\",\n  \"one-piece-3d2y\": \"one-piece-3d2y-special\",\n  \"one-week-friends\": \"isshuukan-friends\",\n  \"ore-twintail-ni-narimasu\": \"ore-twintails-ni-narimasu\",\n  \"parasyte-the-maxim\": \"kiseijuu\",\n  \"phi-brain\": \"phi-brain-kami-no-puzzle\",\n  \"photo-kano\": \"photokano\",\n  \"planetarian\": \"planetarian-chiisana-hoshi-no-yume\",\n  \"polar-bear-cafe\": \"polar-bear-s-cafe\",\n  \"poyopoyo\": \"poyopoyo-kansatsu-nikki\",\n  \"puzzle-and-dragons-cross\": \"puzzle-dragons-x\",\n  \"ro-kyu-bu-fast-break\": \"ro-kyu-bu\",\n  \"robotics;notes\": \"robotics-notes\",\n  \"rowdy-sumo-wrestler-matsutaro\": \"abarenbou-kishi-matsutarou\",\n  \"rozen-maiden-(2013)\": \"rozen-maiden-zuruckspulen\",\n  \"ryuugajou-nanana-no-maizoukin\": \"ryuugajou-nanana-no-maizoukin-tv\",\n  \"saekano\": \"saenai-heroine-no-sodate-kata\",\n  \"sailor-moon-crystal\": \"bishoujo-senshi-sailor-moon-crystal\",\n  \"saint-seiya-the-lost-canvas\": \"saint-seiya-the-lost-canvas-meiou-shinwa\",\n  \"sakamichi-no-apollon\": \"kids-on-the-slope\",\n  \"saki-episode-of-side-a\": \"saki-achiga-hen-episode-of-side-a\",\n  \"saki-the-nationals\": \"saki-zenkoku-hen\",\n  \"seisen-cerberus\": \"seisen-cerberus-ryuukoku-no-fatalites\",\n  \"seitokai-no-ichizon-lv.2\": \"seitokai-no-ichizon-lv-2\",\n  \"sengoku-musou-sanada-no-shou\": \"sengoku-musou-sp-sanada-no-shou\",\n  \"senki-zesshou-symphogear-g\": \"senki-zesshou-symphogear-g-in-the-distance-that-day-when-the-star-became-music\",\n  \"senki-zesshou-symphogear-gx\": \"senki-zesshou-symphogear-3\",\n  \"senki-zesshou-symphogear\": \"senki-zesshou-symphogear-meteoroid-falling-burning-and-disappear-then\",\n  \"seraph-of-the-end\": \"owari-no-seraph\",\n  \"she-and-her-cat-everything-flows\": \"kanojo-to-kanojo-no-neko-everything-flows\",\n  \"she-and-her-cat\": \"kanojo-to-kanojo-no-neko\",\n  \"shimoneta\": \"shimoneta-to-iu-gainen-ga-sonzai-shinai-taikutsu-na-sekai\",\n  \"shin-atashinchi\": \"shin-atashin-chi\",\n  \"shin-sekai-yori\": \"shinsekai-yori\",\n  \"shin-strange-\": \"shin-strange\",\n  \"shingeki-no-kyojin\": \"attack-on-titan\",\n  \"shokugeki-no-soma\": \"shokugeki-no-souma\",\n  \"shomin-sample\": \"ore-ga-ojou-sama-gakkou-ni-shomin-sample-toshite-rachirareta-ken\",\n  \"shounen-hollywood\": \"shounen-hollywood-holly-stage-for-49\",\n  \"so-i-can-t-play-h\": \"dakara-boku-wa-h-ga-dekinai\",\n  \"soniani-super-sonico-the-animation\": \"super-sonico-the-animation\",\n  \"space-brothers\": \"uchuu-kyoudai\",\n  \"space-dandy-2\": \"space-dandy-2nd-season\",\n  \"space-patrol-luluco\": \"uchuu-patrol-luluco\",\n  \"steins;gate\": \"steins-gate\",\n  \"stella-jogakuin-koutouka-c3-bu\": \"stella-jogakuin-koutou-ka-c-bu\",\n  \"straight-title-robot-anime\": \"chokkyuu-hyoudai-robot-anime-straight-title\",\n  \"strange-\": \"strange\",\n  \"suisei-no-gargantia\": \"gargantia-on-the-verdurous-planet\",\n  \"sukitte-ii-na-yo.\": \"sukitte-ii-na-yo\",\n  \"teekyu\": \"teekyuu\",\n  \"the-disappearance-of-nagato-yuki-chan\": \"nagato-yuki-chan-no-shoushitsu\",\n  \"the-idolm@ster-cinderella-girls\": \"the-idolm-ster-cinderella-girls\",\n  \"the-idolm@ster\": \"the-idolm-ster\",\n  \"the-knight-in-the-area\": \"area-no-kishi\",\n  \"the-new-prince-of-tennis-ova-vs-genius10\": \"new-prince-of-tennis-ova-vs-genius10\",\n  \"the-new-prince-of-tennis-specials\": \"new-prince-of-tennis-specials\",\n  \"the-new-prince-of-tennis\": \"new-prince-of-tennis\",\n  \"the-pilot-s-love-song\": \"toaru-hikuushi-e-no-koiuta\",\n  \"the-world-god-only-knows-goddesses-arc\": \"the-world-god-only-knows-goddess-arc\",\n  \"time-travel-shoujo\": \"time-travel-shoujo-mari-waka-to-8-nin-no-kagakusha-tachi\",\n  \"tokyo-ghoul-root-a\": \"tokyo-ghoul-2\",\n  \"tonari-no-kaibutsu-kun\": \"my-little-monster\",\n  \"tsukiuta.-the-animation\": \"tsukiuta-the-animation\",\n  \"twin-angel-twinkle-paradise\": \"kaitou-tenshi-twin-angel-kyun-kyun-tokimeki-paradise\",\n  \"unlimited-fafnir\": \"juuou-mujin-no-fafnir\",\n  \"usagi-drop\": \"bunny-drop\",\n  \"uta-no-prince-sama-2\": \"uta-no-prince-sama-maji-love-2000\",\n  \"uta-no-prince-sama-revolutions\": \"uta-no-prince-sama-maji-love-3\",\n  \"uta-no-prince-sama\": \"uta-no-prince-sama-maji-love-1000\",\n  \"utakoi\": \"chouyaku-hyakuninisshu-uta-koi\",\n  \"valvrave-the-liberator\": \"kakumeiki-valvrave\",\n  \"wake-up-girls-seven-idols\": \"wake-up-girls-shichinin-no-idol\",\n  \"wake-up-girls-zoo\": \"wake-up-girl-zoo\",\n  \"watamote\": \"watashi-ga-motenai-no-wa-dou-kangaetemo-omaera-ga-warui\",\n  \"wooser-no-sono-higurashi-mugen-hen\": \"wooser-no-sono-higurashi\",\n  \"working'\": \"working-2\",\n  \"working\": \"working-1\",\n  \"yahari-ore-no-seishun-love-come-wa-machigatteiru-zoku\": \"yahari-ore-no-seishun-love-comedy-wa-machigatteiru-zoku\",\n  \"yahari-ore-no-seishun-love-come-wa-machigatteiru\": \"yahari-ore-no-seishun-love-comedy-wa-machigatteiru-ova\",\n  \"yama-no-susume-2\": \"yama-no-susume-second-season-ova\",\n  \"yamada-kun-and-the-seven-witches\": \"yamada-kun-to-7-nin-no-majo\",\n  \"yami-shibai-japanese-ghost-stories-2\": \"yami-shibai-2nd-season\",\n  \"yami-shibai-japanese-ghost-stories-3\": \"yami-shibai-3rd-season\",\n  \"yami-shibai-japanese-ghost-stories\": \"yami-shibai\",\n  \"yuki-yuna-wa-yusha-de-aru\": \"yuuki-yuuna-wa-yuusha-de-aru\",\n  \"yurumate3dei\": \"yurumates-3d\",\n  \"yuruyuri\": \"yuru-yuri\",\n  \"yuushibu\": \"yuusha-ni-narenakatta-ore-wa-shibushibu-shuushoku-wo-ketsui-shimashita\",\n  \"zero-no-tsukaima-final\": \"zero-no-tsukaima-f\",\n  \"zx-ignition\": \"z-x-ignition\"\n};\n\n/**\n * An array of the supported collections for mongodb.\n * @type {Array}\n */\nexport const collections = [\"anime\", \"movie\", \"show\"];\n\n/**\n * The cron time for scraping torrents. Default is `0 0 *\\/6 * * *`.\n * @type {String}\n */\nexport const cronTime = \"0 0 */6 * * *\";\n\n/**\n * The host of the server of the database. Default is `[\"localhost\"]`.\n * @type {Array}\n */\nexport const dbHosts = [\"localhost\"];\n\n/**\n * The name of the database. Default is `popcorn`.\n * @type {String}\n */\nexport const dbName = \"popcorn\";\n\n/**\n * The providers for scraping ExtraTorrent for anime.\n * @type {Array}\n */\nexport const extratorrentAnimeProviders = [];\n\n/**\n * The providers for scraping ExtraTorrent for movies.\n * @type {Array}\n */\nexport const extratorrentMovieProviders = [\n  // {name: \"ETRG BRRip\", query: {with_words: \"etrg x264 brrip\"}},\n  // {name: \"ETRG BluRay\", query: {with_words: \"etrg x264 bluray\"}},\n  {name: \"YIFY\", query: {with_words: \"x264 yify brrip\"}}\n];\n\n/**\n * The providers for scraping ExtraTorrent for shows.\n * @type {Array}\n */\nexport const extratorrentShowProviders = [\n  // 480p\n  {name: \"ETTV LOL\", query: {with_words: \"ettv hdtv x264 lol\", without: \"720p 1080p\"}},\n  {name: \"ETTV KILLERS\", query: {with_words: \"ettv hdtv x264 killers\", without: \"720p 1080p\"}},\n  {name: \"ETTV 2HD\", query: {with_words: \"ettv hdtv x264 2hd\", without: \"720p 1080p\"}},\n  {name: \"ETTV CROOKS\", query: {with_words: \"ettv hdtv x264 crooks\", without: \"720p 1080p\"}},\n  {name: \"ETTV FUM\", query: {with_words: \"ettv hdtv x264 fum\", without: \"720p 1080p\"}},\n  {name: \"ETTV BATV\", query: {with_words: \"ettv hdtv x264 batv\", without: \"720p 1080p\"}},\n  {name: \"ETTV ASAP\", query: {with_words: \"ettv hdtv x264 asap\", without: \"720p 1080p\"}},\n  {name: \"ETTV TLA\", query: {with_words: \"ettv hdtv x264 tla\", without: \"720p 1080p\"}},\n  {name: \"ETTV W4F\", query: {with_words: \"ettv hdtv x264 w4f\", without: \"720p 1080p\"}},\n  {name: \"ETTV EVOLVE\", query: {with_words: \"ettv hdtv x264 EVOLVE\", without: \"720p 1080p\"}},\n  {name: \"ETTV ORGANiC\", query: {with_words: \"ettv hdtv x264 organic\", without: \"720p 1080p\"}},\n  {name: \"ETTV BAJSKORV\", query: {with_words: \"ettv hdtv x264 bajskorv\", without: \"720p 1080p\"}},\n  {name: \"ETTV RiVER\", query: {with_words: \"ettv hdtv x264 river\", without: \"720p 1080p\"}},\n\n  // 720p\n  {name: \"ETTV 720p\", query: {with_words: \"ettv hdtv x264 720p\"}},\n  {name: \"ETHD 720p\", query: {with_words: \"ethd hdtv x264 720p\"}},\n\n  // 1080p\n  {name: \"1080p\", query: {with_words: \"hdtv x264 1080p\"}}\n];\n\n/**\n * A configured Fanart API.\n * @type {Trakt}\n * @see https://github.com/vankasteelj/trakt.tv\n */\n\nexport const fanart = new Fanart({\n  api_key: \"bd2753f04538b01479e39e695308b921\"\n});\n\n/**\n * The providers for scraping KAT for anime.\n * @type {Array}\n */\nexport const katAnimeProviders = [];\n\n/**\n * The providers for scraping KAT for movies.\n * @type {Array}\n */\nexport const katMovieProviders = [\n  // English providers\n  {name: \"Megaradon\", query: {query: \"x264 720p | 1080p\", uploader: \"megaradon\", language: \"en\"}},\n  {name: \"Z0n321\", query: {query: \"x264 720p | 1080p\", uploader: \"z0n321\", language: \"en\"}},\n\n  // French providers\n  {name: \"French\", query: {query: \"720p | 1080p\", language: \"fr\"}},\n  // German providers\n  {name: \"German\", query: {query: \"720p | 1080p\", language: \"de\"}},\n  // Spanish providers\n  {name: \"Spanish\", query: {query: \"720p | 1080p\", language: \"es\"}},\n  // Ductch providers\n  {name: \"Dutch\", query: {query: \"720p | 1080p\", language: \"nl\"}}\n];\n\n/**\n * The providers for scraping KAT for shows.\n * @type {Array}\n */\nexport const katShowProviders = [\n  // 720p and 1080p providers\n  {name: \"Zoner720p\", query: {query: \"x264 720p\", uploader: \"z0n321\"}},\n  {name: \"Zoner1080p\", query: {query: \"x264 1080p\", uploader: \"z0n321\"}},\n  {name: \"Brasse0\", query: {query: \"x264\", uploader: \"brasse0\"}},\n  {name: \"ETHD\", query: {query: \"x264\", uploader: \"ethd\"}},\n\n  // Uploader providers\n  {name: \"ETTV\", query: {query: \"x264\", uploader: \"ettv\"}},\n  {name: \"KAT_EZTV\", query: {query: \"x264\", uploader: \"eztv\"}},\n  {name: \"VTV\", query: {query: \"x264\", uploader: \"vtv\"}},\n  {name: \"SRIGGA\", query: {query: \"x264\", uploader: \"ethd\"}},\n\n  // Zoner providers\n  {name: \"ZonerSD\", query: {query: \"x264 LOL | FLEET | KILLERS | W4F\", uploader: \"z0n321\"}}\n];\n\n/**\n * The providers for scraping Nyaa for anime.\n * @type {Array}\n */\nexport const nyaaAnimeProviders = [\n  {name: \"Commie\", query: {term: \"mkv\", user: 76430, filter: \"trusted_only\"}},\n  {name: \"FFF\", query: {term: \"mkv\", user: 73859, filter: \"trusted_only\"}},\n  {name: \"gg\", query: {term: \"mkv\", user: 9001, filter: \"trusted_only\"}}\n];\n\n/**\n * A configured OMDB API.\n * @type {OMDB}\n * @see https://github.com/ChrisAlderson/omdb-api-pt\n */\nexport const omdb = new OMDB();\n\n/**\n * Check if this instance of the API is the master. Default is `true`.\n * @type {Boolean}\n */\nexport const master = true;\n\n/**\n * The maximum web requests can take place at the same time. Default is `2`.\n * @type {Integer}\n */\nexport const maxWebRequest = 2;\n\n/**\n * Map object for correcting movie slugs.\n * @type {Object}\n */\nexport const movieMap = {};\n\n/**\n * The amount of object show per page. Default is `50`.\n * @type {Integer}\n */\nexport const pageSize = 50;\n\n/**\n * The port on which the API will run on. Default is `5000`.\n * @type {Integer}\n */\nexport const port = 5000;\n\n/**\n * The promise object to override the mongoose promise object. Default is `global.Promise`.\n * @type {Promise}\n */\nexport const Promise = global.Promise;\n\n/**\n * The name of the server. Default is `serv01`.\n * @type {String}\n */\nexport const server = \"serv01\";\n\n/**\n * Map object for correcting show slugs.\n * @type {Object}\n */\nexport const showMap = {\n  \"60-minutes-us\": \"60-minutes\",\n  \"american-crime\": \"american-crime-1969\",\n  \"bachelor-live\": \"the-bachelor-live\",\n  \"ballers-2015\": \"ballers\",\n  \"big-brother-us\": \"big-brother-2000\",\n  \"blackish\": \"black-ish\",\n  \"bobs-burgers\": \"bob-s-burgers\",\n  \"bordertown-2015\": \"bordertown-2016\",\n  \"celebrity-big-brother\": \"celebrity-big-brother-2001\",\n  \"chicago-pd\": \"chicago-p-d\",\n  \"childrens-hospital-us\": \"childrens-hospital\",\n  \"cooper-barretts-guide-to-surviving-life\": \"cooper-barrett-s-guide-to-surviving-life-2016\",\n  \"cosmos-a-space-time-odyssey\": \"cosmos-a-spacetime-odyssey\",\n  \"dcs-legends-of-tomorrow\": \"dc-s-legends-of-tomorrow\",\n  \"doll-and-em\": \"doll-em\",\n  \"gold-rush\": \"gold-rush-2010\",\n  \"greys-anatomy\": \"grey-s-anatomy\",\n  \"hawaii-five-0-2010\": \"hawaii-five-0\",\n  \"heartland-ca\": \"heartland-2007-ca\",\n  \"hells-kitchen-us\": \"hell-s-kitchen-2005\",\n  \"house-of-cards-2013\": \"house-of-cards\",\n  \"how-its-made-dream-cars\": \"how-it-s-made-dream-cars\",\n  \"how-its-made\": \"how-it-s-made\",\n  \"intelligence-us\": \"intelligence-2014\",\n  \"its-always-sunny-in-philadelphia\": \"it-s-always-sunny-in-philadelphia\",\n  \"james-mays-cars-of-the-people\": \"james-may-s-cars-of-the-people\",\n  \"jericho-2016\": \"jericho-1969\",\n  \"kitchen-nightmares-us\": \"kitchen-nightmares\",\n  \"last-man-standing-us\": \"last-man-standing-2011\",\n  \"law-and-order-svu\": \"law-order-special-victims-unit\",\n  \"marvels-agent-carter\": \"marvel-s-agent-carter\",\n  \"marvels-agents-of-s-h-i-e-l-d\": \"marvel-s-agents-of-s-h-i-e-l-d\",\n  \"marvels-daredevil\": \"marvel-s-daredevil\",\n  \"marvels-jessica-jones\": \"marvel-s-jessica-jones\",\n  \"mike-and-molly\": \"mike-molly\",\n  \"perception\": \"perception-2012\",\n  \"power-2014\": \"power\",\n  \"prey-uk\": \"prey-2014\",\n  \"proof-us\": \"proof\",\n  \"reckless\": \"reckless-2014\",\n  \"resurrection-us\": \"resurrection-2014\",\n  \"revolution-2012\": \"revolution\",\n  \"rush-us\": \"rush-2014\",\n  \"sanctuary-us\": \"sanctuary\",\n  \"satisfaction-us\": \"satisfaction-2014\",\n  \"scandal-us\": \"scandal\",\n  \"schitts-creek\": \"schitt-s-creek\",\n  \"second-chance\": \"second-chance-2016\",\n  \"stan-lees-lucky-man\": \"stan-lee-s-lucky-man\",\n  \"survivors-remorse\": \"survivor-s-remorse\",\n  \"teen-wolf\": \"teen-wolf-2011\",\n  \"the-bridge-us\": \"the-bridge-2013\",\n  \"the-comedians-us\": \"the-comedians-2015\",\n  \"the-kennedys-uk\": \"the-kennedys-2015\",\n  \"the-league\": \"the-league-2009\",\n  \"the-librarians-us\": \"the-librarians-2014\",\n  \"the-magicians-us\": \"the-magicians\",\n  \"this-is-england-90\": \"this-is-england-90-2015\",\n  \"whose-line-is-it-anyway-us\": \"whose-line-is-it-anyway-1998\",\n  \"young-and-hungry\": \"young-hungry\",\n  \"youre-the-worst-2014\": \"you-re-the-worst\",\n  \"youre-the-worst\": \"you-re-the-worst\"\n};\n\n/**\n * The name of the status file holding the `status` value for the index page. Default is `status.json`.\n * @type {String}\n */\nexport const statusFile = \"status.json\";\n\n/**\n * The path to the temprary directory.. Default is `./tmp`.\n * @type {String}\n */\nexport const tempDir = path.join(process.cwd(), \"tmp\");\n\n/**\n * The timezone the conjob will hold. Default is `America/Los_Angeles`.\n * @type {String}\n */\nexport const timeZone = \"America/Los_Angeles\";\n\n/**\n * A configured Trakt API.\n * @type {Trakt}\n * @see https://github.com/vankasteelj/trakt.tv\n */\nexport const trakt = new Trakt({\n  client_id: \"70c43f8f4c0de74a33ac1e66b6067f11d14ad13e33cd4ebd08860ba8be014907\"\n});\n\n/**\n * A configured TVDB API.\n * @type {TVDB}\n * @see https://github.com/edwellbrook/node-tvdb\n */\nexport const tvdb = new TVDB(\"B17D23818D6E884D\");\n\n/**\n * The name of the updated file holding the `updated` value for the index page. Default is `lastUpdated.json`.\n * @type {String}\n */\nexport const updatedFile = \"lastUpdated.json\";\n\n/**\n * The maximum time a web request may take. Default is `2` seconds.\n * @type {Integer}\n */\nexport const webRequestTimeout = 2;\n\n/**\n * The amount of workers on the cluster. Default is `2`.\n * @type {Integer}\n */\nexport const workers = 2;\n"
  },
  {
    "__docId__": 16,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "animeMap",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~animeMap",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{animeMap}",
    "description": "Map object for correcting anime slugs.",
    "lineNumber": 12,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 17,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "collections",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~collections",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{collections}",
    "description": "An array of the supported collections for mongodb.",
    "lineNumber": 216,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 18,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "cronTime",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~cronTime",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{cronTime}",
    "description": "The cron time for scraping torrents. Default is `0 0 *\\/6 * * *`.",
    "lineNumber": 222,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 19,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "dbHosts",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~dbHosts",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{dbHosts}",
    "description": "The host of the server of the database. Default is `[\"localhost\"]`.",
    "lineNumber": 228,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 20,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "dbName",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~dbName",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{dbName}",
    "description": "The name of the database. Default is `popcorn`.",
    "lineNumber": 234,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 21,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "extratorrentAnimeProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~extratorrentAnimeProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{extratorrentAnimeProviders}",
    "description": "The providers for scraping ExtraTorrent for anime.",
    "lineNumber": 240,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 22,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "extratorrentMovieProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~extratorrentMovieProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{extratorrentMovieProviders}",
    "description": "The providers for scraping ExtraTorrent for movies.",
    "lineNumber": 246,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 23,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "extratorrentShowProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~extratorrentShowProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{extratorrentShowProviders}",
    "description": "The providers for scraping ExtraTorrent for shows.",
    "lineNumber": 256,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 24,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "fanart",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~fanart",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{fanart}",
    "description": "A configured Fanart API.",
    "see": [
      "https://github.com/vankasteelj/trakt.tv"
    ],
    "lineNumber": 286,
    "type": {
      "nullable": null,
      "types": [
        "Trakt"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 25,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "katAnimeProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~katAnimeProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{katAnimeProviders}",
    "description": "The providers for scraping KAT for anime.",
    "lineNumber": 294,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 26,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "katMovieProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~katMovieProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{katMovieProviders}",
    "description": "The providers for scraping KAT for movies.",
    "lineNumber": 300,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 27,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "katShowProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~katShowProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{katShowProviders}",
    "description": "The providers for scraping KAT for shows.",
    "lineNumber": 319,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 28,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "nyaaAnimeProviders",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~nyaaAnimeProviders",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{nyaaAnimeProviders}",
    "description": "The providers for scraping Nyaa for anime.",
    "lineNumber": 340,
    "type": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 29,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "omdb",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~omdb",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{omdb}",
    "description": "A configured OMDB API.",
    "see": [
      "https://github.com/ChrisAlderson/omdb-api-pt"
    ],
    "lineNumber": 351,
    "type": {
      "nullable": null,
      "types": [
        "OMDB"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 30,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "master",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~master",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{master}",
    "description": "Check if this instance of the API is the master. Default is `true`.",
    "lineNumber": 357,
    "type": {
      "nullable": null,
      "types": [
        "Boolean"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 31,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "maxWebRequest",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~maxWebRequest",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{maxWebRequest}",
    "description": "The maximum web requests can take place at the same time. Default is `2`.",
    "lineNumber": 363,
    "type": {
      "nullable": null,
      "types": [
        "Integer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 32,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "movieMap",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~movieMap",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{movieMap}",
    "description": "Map object for correcting movie slugs.",
    "lineNumber": 369,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 33,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "pageSize",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~pageSize",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{pageSize}",
    "description": "The amount of object show per page. Default is `50`.",
    "lineNumber": 375,
    "type": {
      "nullable": null,
      "types": [
        "Integer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 34,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "port",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~port",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{port}",
    "description": "The port on which the API will run on. Default is `5000`.",
    "lineNumber": 381,
    "type": {
      "nullable": null,
      "types": [
        "Integer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 35,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Promise",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~Promise",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{Promise}",
    "description": "The promise object to override the mongoose promise object. Default is `global.Promise`.",
    "lineNumber": 387,
    "type": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 36,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "server",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~server",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{server}",
    "description": "The name of the server. Default is `serv01`.",
    "lineNumber": 393,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 37,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "showMap",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~showMap",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{showMap}",
    "description": "Map object for correcting show slugs.",
    "lineNumber": 399,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 38,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "statusFile",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~statusFile",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{statusFile}",
    "description": "The name of the status file holding the `status` value for the index page. Default is `status.json`.",
    "lineNumber": 468,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 39,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "tempDir",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~tempDir",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{tempDir}",
    "description": "The path to the temprary directory.. Default is `./tmp`.",
    "lineNumber": 474,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 40,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "timeZone",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~timeZone",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{timeZone}",
    "description": "The timezone the conjob will hold. Default is `America/Los_Angeles`.",
    "lineNumber": 480,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 41,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "trakt",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~trakt",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{trakt}",
    "description": "A configured Trakt API.",
    "see": [
      "https://github.com/vankasteelj/trakt.tv"
    ],
    "lineNumber": 487,
    "type": {
      "nullable": null,
      "types": [
        "Trakt"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 42,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "tvdb",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~tvdb",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{tvdb}",
    "description": "A configured TVDB API.",
    "see": [
      "https://github.com/edwellbrook/node-tvdb"
    ],
    "lineNumber": 496,
    "type": {
      "nullable": null,
      "types": [
        "TVDB"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 43,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "updatedFile",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~updatedFile",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{updatedFile}",
    "description": "The name of the updated file holding the `updated` value for the index page. Default is `lastUpdated.json`.",
    "lineNumber": 502,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 44,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "webRequestTimeout",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~webRequestTimeout",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{webRequestTimeout}",
    "description": "The maximum time a web request may take. Default is `2` seconds.",
    "lineNumber": 508,
    "type": {
      "nullable": null,
      "types": [
        "Integer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 45,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "workers",
    "memberof": "src/config/constants.js",
    "longname": "src/config/constants.js~workers",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/constants.js",
    "importStyle": "{workers}",
    "description": "The amount of workers on the cluster. Default is `2`.",
    "lineNumber": 514,
    "type": {
      "nullable": null,
      "types": [
        "Integer"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 46,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/config/logger.js",
    "memberof": null,
    "longname": "src/config/logger.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport ExpressWinston from \"express-winston\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport sprintf from \"sprintf\";\nimport Winston from \"winston\";\n\nimport { tempDir } from \"./constants\";\nimport { name } from \"../../package.json\";\n\n/** Class for configuring logging. */\nexport default class Logger {\n\n  /**\n   * Create a logger object.\n   * @param {?Boolean} [verbose] - Debug mode for no output.\n   * @param {?Boolean} [debug] - Debug mode for extra output.\n   */\n  constructor(pretty, verbose) {\n    /**\n     * Pretty mode.\n     * @type {Boolean}\n     */\n    Logger._pretty = pretty;\n\n    /**\n     * Verbose mode.\n     * @type {Boolean}\n     */\n    Logger._verbose = verbose;\n\n     // Create the temp directory if it does not exists.\n    if (!fs.existsSync(tempDir)) fs.mkdirSync(tempDir);\n\n    /**\n     * The log levels Winston will be using.\n     * @type {Object}\n     */\n    Logger._levels = {\n      error: 0,\n      warn: 1,\n      info: 2,\n      debug: 3\n    };\n\n    if (Logger._pretty) {\n      /**\n       * The Winston instance.\n       * @external {Winston} https://github.com/winstonjs/winston\n       */\n      Logger.logger = new Winston.Logger({\n        transports: [\n          new Winston.transports.Console({\n            name,\n            levels: Logger._levels,\n            formatter: Logger._consoleFormatter,\n            handleExceptions: true,\n            prettyPrint: true\n          }),\n          new Winston.transports.File({\n            filename: path.join(tempDir, `${name}.log`),\n            json: false,\n            level: \"warn\",\n            formatter: Logger._fileFormatter,\n            maxsize: 5242880,\n            handleExceptions: true\n          })\n        ],\n        exitOnError: false\n      });\n\n      /**\n       * The Express Winston instance.\n       * @external {ExpressWinston} http://bithavoc.io/express-winston/\n       */\n      Logger.expressLogger = new ExpressWinston.logger({\n        winstonInstance: Logger.logger,\n        expressFormat: true\n      });\n    }\n\n    // Create the logger object.\n    Logger._createLogger();\n  };\n\n  /**\n   * Check if the message is empty and replace it with the meta.\n   * @param {Object} args - Arguments passed by Winston.\n   * @returns {Object} - Formatter arguments passed by Winston.\n   */\n  static _checkEmptyMessage(args) {\n    if (args.message === \"\" && Object.keys(args.meta).length !== 0)\n      args.message = JSON.stringify(args.meta);\n\n    return args;\n  };\n\n  /**\n   * Get the color of the output based on the log level.\n   * @param {String} level - The log level.\n   * @returns {String} - A color based on the log level.\n   */\n  static _getLevelColor(level) {\n    switch (level) {\n    case \"error\":\n      return \"\\x1b[31m\";\n      break;\n    case \"warn\":\n      return \"\\x1b[33m\";\n      break;\n    case \"info\":\n      return \"\\x1b[36m\";\n      break;\n    case \"debug\":\n      return \"\\x1b[34m\";\n      break;\n    default:\n      return \"\\x1b[36m\";\n      break;\n    }\n  };\n\n  /**\n   * Formatter function which formats the output to the console.\n   * @param {Object} args - Arguments passed by Winston.\n   * @returns {String} - The formatted message.\n   */\n  static _consoleFormatter(args) {\n    args = Logger._checkEmptyMessage(args);\n    const color = Logger._getLevelColor(args.level);\n\n    return sprintf(`\\x1b[0m[%s] ${color}%5s:\\x1b[0m %2s/%d: \\x1b[36m%s\\x1b[0m`,\n      new Date().toISOString(), args.level.toUpperCase(), name,\n      process.pid, args.message);\n  };\n\n  /**\n   * Formatter function which formate the output to the log file.\n   * @param {Object} args - Arguments passed by Winston.\n   * @returns {String} - The formatted message.\n   */\n  static _fileFormatter(args) {\n    args = Logger._checkEmptyMessage(args);\n    return JSON.stringify({\n      name,\n      pid: process.pid,\n      level: args.level,\n      msg: args.message,\n      time: new Date().toISOString()\n    });\n  };\n\n  /**\n   * Function to create a global logger object based on the properties of the Logger class.\n   */\n  static _createLogger() {\n    if (!global.logger) global.logger = {};\n\n    Object.keys(Logger._levels).map(level => {\n      if (Logger._pretty) {\n        global.logger[level] = msg => {\n          if (!Logger._verbose) Logger.logger[level](msg);\n        };\n      } else {\n        global.logger[level] = msg => {\n          if (!Logger._verbose) console[level](msg);\n        };\n      }\n    });\n  };\n\n};\n"
  },
  {
    "__docId__": 47,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Logger",
    "memberof": "src/config/logger.js",
    "longname": "src/config/logger.js~Logger",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/logger.js",
    "importStyle": "Logger",
    "description": "Class for configuring logging.",
    "lineNumber": 12,
    "interface": false
  },
  {
    "__docId__": 48,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger#constructor",
    "access": null,
    "description": "Create a logger object.",
    "lineNumber": 19,
    "params": [
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "verbose",
        "description": "Debug mode for no output."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 49,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Winston",
    "externalLink": "https://github.com/winstonjs/winston",
    "memberof": "src/config/logger.js",
    "longname": "src/config/logger.js~Winston",
    "access": null,
    "description": "The Winston instance.",
    "lineNumber": 51
  },
  {
    "__docId__": 50,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ExpressWinston",
    "externalLink": "http://bithavoc.io/express-winston/",
    "memberof": "src/config/logger.js",
    "longname": "src/config/logger.js~ExpressWinston",
    "access": null,
    "description": "The Express Winston instance.",
    "lineNumber": 76
  },
  {
    "__docId__": 51,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_checkEmptyMessage",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger._checkEmptyMessage",
    "access": null,
    "description": "Check if the message is empty and replace it with the meta.",
    "lineNumber": 91,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Formatter arguments passed by Winston."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Arguments passed by Winston."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Formatter arguments passed by Winston."
    },
    "generator": false
  },
  {
    "__docId__": 52,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_getLevelColor",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger._getLevelColor",
    "access": null,
    "description": "Get the color of the output based on the log level.",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} - A color based on the log level."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "level",
        "description": "The log level."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "A color based on the log level."
    },
    "generator": false
  },
  {
    "__docId__": 53,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_consoleFormatter",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger._consoleFormatter",
    "access": null,
    "description": "Formatter function which formats the output to the console.",
    "lineNumber": 128,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} - The formatted message."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Arguments passed by Winston."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "The formatted message."
    },
    "generator": false
  },
  {
    "__docId__": 54,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_fileFormatter",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger._fileFormatter",
    "access": null,
    "description": "Formatter function which formate the output to the log file.",
    "lineNumber": 142,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String} - The formatted message."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "args",
        "description": "Arguments passed by Winston."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": "The formatted message."
    },
    "generator": false
  },
  {
    "__docId__": 55,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_createLogger",
    "memberof": "src/config/logger.js~Logger",
    "longname": "src/config/logger.js~Logger._createLogger",
    "access": null,
    "description": "Function to create a global logger object based on the properties of the Logger class.",
    "lineNumber": 156,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 56,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/config/routes.js",
    "memberof": null,
    "longname": "src/config/routes.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport Index from \"../controllers/index\";\nimport Animes from \"../controllers/animes\";\nimport Movies from \"../controllers/movies\";\nimport Shows from \"../controllers/shows\";\nimport Exports from \"../controllers/exports\";\n\n/** Class for setting up the routes for the API. */\nexport default class Routes {\n\n  /**\n   * Create a routes object.\n   * @param {Express} app - The ExpresssJS instance.\n   */\n  constructor(app) {\n    /**\n     * The index controller.\n     * @type {Index}\n     */\n    Routes.index = new Index();\n\n    /**\n     * The animes controller.\n     * @type {Animes}\n     */\n    Routes._animes = new Animes();\n\n    /**\n     * The movies controller.\n     * @type {Movies}\n     */\n    Routes._movies = new Movies();\n\n    /**\n     * The shows controller.\n     * @type {Shows}\n     */\n    Routes._shows = new Shows();\n\n    /**\n     * The exports controller.\n     * @type {Exports}\n     */\n    Routes._exports = new Exports();\n\n    Routes._setupRoutes(app);\n  };\n\n  /**\n   * Setup ExpressJS routing.\n   * @param {ExpressJS} app - The ExpresssJS application.\n   */\n  static _setupRoutes(app) {\n    app.get(\"/\", Routes.index.getIndex);\n    app.get(\"/logs/error\", Routes.index.getErrorLog);\n\n    app.get(\"/animes\", Routes._animes.getAnimes);\n    app.get(\"/animes/:page\", Routes._animes.getPage);\n    app.get(\"/anime/:id\", Routes._animes.getAnime);\n    app.get(\"/random/anime\", Routes._animes.getRandomAnime);\n\n    app.get(\"/movies\", Routes._movies.getMovies);\n    app.get(\"/movies/:page\", Routes._movies.getPage);\n    app.get(\"/movie/:id\", Routes._movies.getMovie);\n    app.get(\"/random/movie\", Routes._movies.getRandomMovie);\n\n    app.get(\"/shows\", Routes._shows.getShows);\n    app.get(\"/shows/:page\", Routes._shows.getPage);\n    app.get(\"/show/:id\", Routes._shows.getShow);\n    app.get(\"/random/show\", Routes._shows.getRandomShow);\n\n    app.get(\"/exports/:collection\", Routes._exports.getExport);\n  };\n\n};\n"
  },
  {
    "__docId__": 57,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Routes",
    "memberof": "src/config/routes.js",
    "longname": "src/config/routes.js~Routes",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/routes.js",
    "importStyle": "Routes",
    "description": "Class for setting up the routes for the API.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 58,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/config/routes.js~Routes",
    "longname": "src/config/routes.js~Routes#constructor",
    "access": null,
    "description": "Create a routes object.",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "Express"
        ],
        "spread": false,
        "optional": false,
        "name": "app",
        "description": "The ExpresssJS instance."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 59,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_setupRoutes",
    "memberof": "src/config/routes.js~Routes",
    "longname": "src/config/routes.js~Routes._setupRoutes",
    "access": null,
    "description": "Setup ExpressJS routing.",
    "lineNumber": 53,
    "params": [
      {
        "nullable": null,
        "types": [
          "ExpressJS"
        ],
        "spread": false,
        "optional": false,
        "name": "app",
        "description": "The ExpresssJS application."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 60,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/config/setup.js",
    "memberof": null,
    "longname": "src/config/setup.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport bodyParser from \"body-parser\";\nimport compress from \"compression\";\nimport mongoose from \"mongoose\";\nimport responseTime from \"response-time\";\n\nimport Logger from \"./logger\";\nimport { dbHosts, dbName, Promise } from \"./constants\";\n\n/** Class for setting up the API. */\nexport default class Setup {\n\n  /**\n   * Setup the Express service.\n   * @param {Express} app - The ExpresssJS instance.\n   * @param {?Boolean} [pretty] - Pretty output with Winston logging.\n   * @param {?Boolean} [verbose] - Debug mode for no output.\n   */\n  constructor(app, pretty, verbose) {\n    // Used to extract data from query strings.\n    RegExp.escape = text => text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, \"\\\\$&\");\n\n    // Connection and configuration of the MongoDB database.\n    Setup.connectMongoDB();\n\n    // Enable parsing URL encoded bodies.\n    app.use(bodyParser.urlencoded({extended: true}));\n\n    // Enable parsing JSON bodies.\n    app.use(bodyParser.json());\n\n    // Enables compression of response bodies.\n    app.use(compress({\n      threshold: 1400,\n      level: 4,\n      memLevel: 3\n    }));\n\n    // Enable response time tracking for HTTP request.\n    app.use(responseTime());\n\n    // Enable HTTP request logging.\n    if (pretty && !verbose) app.use(Logger.expressLogger);\n  }\n\n  /** Connection and configuration of the MongoDB database. */\n  static connectMongoDB() {\n    mongoose.Promise = Promise;\n    mongoose.connect(`mongodb://${dbHosts.join(\",\")}/${dbName}`, {\n      db: {\n        native_parser: true\n      },\n      replset: {\n        rs_name: \"pt0\",\n        connectWithNoPrimary: true,\n        readPreference: \"nearest\",\n        strategy: \"ping\",\n        socketOptions: {\n          keepAlive: 1\n        }\n      },\n      server: {\n        readPreference: \"nearest\",\n        strategy: \"ping\",\n        socketOptions: {\n          keepAlive: 1\n        }\n      }\n    });\n  };\n\n};\n"
  },
  {
    "__docId__": 61,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Setup",
    "memberof": "src/config/setup.js",
    "longname": "src/config/setup.js~Setup",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/config/setup.js",
    "importStyle": "Setup",
    "description": "Class for setting up the API.",
    "lineNumber": 11,
    "interface": false
  },
  {
    "__docId__": 62,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/config/setup.js~Setup",
    "longname": "src/config/setup.js~Setup#constructor",
    "access": null,
    "description": "Setup the Express service.",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "Express"
        ],
        "spread": false,
        "optional": false,
        "name": "app",
        "description": "The ExpresssJS instance."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "pretty",
        "description": "Pretty output with Winston logging."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "name": "verbose",
        "description": "Debug mode for no output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 63,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "connectMongoDB",
    "memberof": "src/config/setup.js~Setup",
    "longname": "src/config/setup.js~Setup.connectMongoDB",
    "access": null,
    "description": "Connection and configuration of the MongoDB database.",
    "lineNumber": 47,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 64,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/animes.js",
    "memberof": null,
    "longname": "src/controllers/animes.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport Anime from \"../models/Anime\";\nimport { pageSize } from \"../config/constants\";\n\n/** Class for getting anime data from the MongoDB. */\nexport default class Animes {\n\n  /** Create an animes object. */\n  constructor() {\n    /**\n     * Object used for the projection of anime shows.\n     * @type {Object}\n     */\n    Animes._projection = {\n      images: 1,\n      mal_id: 1,\n      haru_id: 1,\n      tvdb_id: 1,\n      imdb_id: 1,\n      slug: 1,\n      title: 1,\n      year: 1,\n      type: 1,\n      item_data: 1,\n      rating: 1,\n      genres: 1,\n      num_seasons: 1\n    };\n  };\n\n  /**\n   * Get all the pages.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {String[]} - A list of pages which are available.\n   */\n  getAnimes(req, res, next) {\n    return Anime.count({\n      num_seasons: {\n        $gt: 0\n      },\n      type: \"show\"\n    }).exec().then(count => {\n      const pages = Math.round(count / pageSize);\n      const docs = [];\n\n      for (let i = 1; i < pages + 1; i++) docs.push(`animes/${i}`);\n\n      return res.json(docs);\n    }).catch(err => next(err));\n  };\n\n  /**\n   * Get one page.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Anime[]} - The contents of one page.\n   */\n  getPage(req, res, next) {\n    const page = req.params.page - 1;\n    const offset = page * pageSize;\n\n    if (req.params.page.match(/all/i)) {\n      return Anime.aggregate([{\n          $match: {\n            num_seasons: {\n              $gt: 0\n            },\n            type: \"show\"\n          }\n        }, {\n          $project: Animes._projection\n        }, {\n          $sort: {\n            title: -1\n          }\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => next(err));\n    } else {\n      const query = {\n        num_seasons: {\n          $gt: 0\n        },\n        type: \"show\"\n      };\n      const data = req.query;\n\n      if (!data.order) data.order = -1;\n\n      let sort = {\n        \"rating.votes\": parseInt(data.order, 10),\n        \"rating.percentage\": parseInt(data.order, 10),\n        \"rating.watching\": parseInt(data.order, 10)\n      };\n\n      if (data.keywords) {\n        const words = data.keywords.split(\" \");\n        let regex = \"^\";\n\n        for (let w in words) {\n          words[w] = words[w].replace(/[^a-zA-Z0-9]/g, \"\");\n          regex += `(?=.*\\\\b${RegExp.escape(words[w].toLowerCase())}\\\\b)`;\n        }\n\n        query.title = {\n          $regex: new RegExp(`${regex}.*`),\n          $options: \"gi\"\n        };\n      }\n\n      if (data.sort) {\n        if (data.sort.match(/name/i)) sort = {\n          \"title\": (parseInt(data.order, 10) * -1)\n        };\n        if (data.sort.match(/rating/i)) sort = {\n          \"rating.percentage\": parseInt(data.order, 10),\n          \"rating.votes\": parseInt(data.order, 10)\n        };\n        // if (data.sort === \"trending\") sort = {\n        //   \"rating.watching\": parseInt(data.order, 10)\n        // };\n        // if (data.sort === \"updated\") sort = {\n        //   \"latest_episode\": parseInt(data.order, 10)\n        // };\n        if (data.sort.match(/year/i)) sort = {\n          \"year\": parseInt(data.order, 10)\n        };\n      }\n\n      if (data.genre && !data.genre.match(/all/i)) query.genres = data.genre;\n\n      return Anime.aggregate([{\n          $sort: sort\n        }, {\n          $match: query\n        }, {\n          $project: Animes._projection\n        }, {\n          $skip: offset\n        }, {\n          $limit: pageSize\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => next(err));\n    }\n  };\n\n  /**\n   * Get info from one anime.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Anime} - The details of a single anime.\n   */\n  getAnime(req, res, next) {\n    return Anime.findOne({\n        _id: req.params.id,\n        type: \"show\"\n      }, {\n        latest_episode: 0\n      }).exec()\n      .then(docs => res.json(docs))\n      .catch(err => next(err));\n  };\n\n  /**\n   * Get a random anime.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Anime} - A random movie.\n   */\n  getRandomAnime(req, res, next) {\n    return Anime.aggregate([{\n        $match: {\n          type: \"show\"\n        }\n      }, {\n        $project: Animes._projection\n      }, {\n        $sample: {\n          size: 1\n        }\n      }, {\n        $limit: 1\n      }]).exec()\n      .then(docs => res.json(docs[0]))\n      .catch(err => next(err));\n  };\n\n};\n"
  },
  {
    "__docId__": 65,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Animes",
    "memberof": "src/controllers/animes.js",
    "longname": "src/controllers/animes.js~Animes",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/controllers/animes.js",
    "importStyle": "Animes",
    "description": "Class for getting anime data from the MongoDB.",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 66,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/animes.js~Animes",
    "longname": "src/controllers/animes.js~Animes#constructor",
    "access": null,
    "description": "Create an animes object.",
    "lineNumber": 9,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 67,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAnimes",
    "memberof": "src/controllers/animes.js~Animes",
    "longname": "src/controllers/animes.js~Animes#getAnimes",
    "access": null,
    "description": "Get all the pages.",
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]} - A list of pages which are available."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": "A list of pages which are available."
    },
    "generator": false
  },
  {
    "__docId__": 68,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getPage",
    "memberof": "src/controllers/animes.js~Animes",
    "longname": "src/controllers/animes.js~Animes#getPage",
    "access": null,
    "description": "Get one page.",
    "lineNumber": 61,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - The contents of one page."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "The contents of one page."
    },
    "generator": false
  },
  {
    "__docId__": 69,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAnime",
    "memberof": "src/controllers/animes.js~Animes",
    "longname": "src/controllers/animes.js~Animes#getAnime",
    "access": null,
    "description": "Get info from one anime.",
    "lineNumber": 158,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - The details of a single anime."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "The details of a single anime."
    },
    "generator": false
  },
  {
    "__docId__": 70,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRandomAnime",
    "memberof": "src/controllers/animes.js~Animes",
    "longname": "src/controllers/animes.js~Animes#getRandomAnime",
    "access": null,
    "description": "Get a random anime.",
    "lineNumber": 176,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - A random movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "A random movie."
    },
    "generator": false
  },
  {
    "__docId__": 71,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/exports.js",
    "memberof": null,
    "longname": "src/controllers/exports.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport fs from \"fs\";\nimport mime from \"mime\";\nimport path from \"path\";\n\nimport Util from \"../util\";\nimport { tempDir } from \"../config/constants\";\n\n/** Class for getting anime data from the MongoDB. */\nexport default class Exports {\n\n  /** Create an exports object. */\n  constructor() {\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Download the export of a collection.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Download} - The download of an export of a collection.\n   */\n  getExport(req, res, next) {\n    const collection = req.params.collection;\n    let err;\n\n    if (collection.match(/(anime)$|(movie)$|(show)$/i)) {\n      const jsonFile = path.join(tempDir, `${collection}s.json`);\n      if (!fs.existsSync(jsonFile)) {\n        err = {error: `Error: no such file found for '${jsonFile}'`};\n        return res.status(500).json(err);\n      } else {\n        return res.download(jsonFile);\n      }\n    } else {\n      err = {error: `Error: '${collection}' is not a valid collection to export.`};\n      res.status(500).json(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 72,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Exports",
    "memberof": "src/controllers/exports.js",
    "longname": "src/controllers/exports.js~Exports",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/controllers/exports.js",
    "importStyle": "Exports",
    "description": "Class for getting anime data from the MongoDB.",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 73,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/exports.js~Exports",
    "longname": "src/controllers/exports.js~Exports#constructor",
    "access": null,
    "description": "Create an exports object.",
    "lineNumber": 13,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 74,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/controllers/exports.js~Exports",
    "longname": "src/controllers/exports.js~Exports#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 18,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 75,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getExport",
    "memberof": "src/controllers/exports.js~Exports",
    "longname": "src/controllers/exports.js~Exports#getExport",
    "access": null,
    "description": "Download the export of a collection.",
    "lineNumber": 28,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Download} - The download of an export of a collection."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Download"
      ],
      "spread": false,
      "description": "The download of an export of a collection."
    },
    "generator": false
  },
  {
    "__docId__": 76,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/index.js",
    "memberof": null,
    "longname": "src/controllers/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport fs from \"fs\";\nimport path from \"path\";\n\nimport Anime from \"../models/Anime\";\nimport Movie from \"../models/Movie\";\nimport Show from \"../models/Show\";\nimport Util from \"../util\";\nimport {\n  server,\n  statusFile,\n  tempDir,\n  updatedFile\n} from \"../config/constants\";\nimport {\n  name,\n  repository,\n  version\n} from \"../../package.json\";\n\n/** class for displaying information about the server the API is running on. */\nexport default class Index {\n\n  /** Create an index object. */\n  constructor() {\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    Index._util = new Util();\n  };\n\n  /**\n   * Displays a given file.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {String} root - The path to the file.\n   * @param {String} file - The name of the file.\n   * @returns {JSON | File} - A file to display in the browser.\n   */\n  static _displayFile(req, res, root, file) {\n    if (fs.existsSync(path.join(root, file))) {\n      return res.sendFile(file, {\n        root,\n        headers: {\n          \"Content-Type\": \"text/plain; charset=UTF-8\"\n        }\n      });\n    } else {\n      return res.json({error: `Could not find file: '${root}'`});\n    }\n  };\n\n  /**\n   * Get general information about the server.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {JSON} - General information about the server.\n   */\n  async getIndex(req, res, next) {\n    try {\n      const { updated } = JSON.parse(fs.readFileSync(path.join(tempDir, updatedFile), \"utf8\"));\n      const { status } = JSON.parse(fs.readFileSync(path.join(tempDir, statusFile), \"utf8\"));\n      const commit = await Index._util.executeCommand(\"git rev-parse --short HEAD\");\n      const totalAnimes = await Anime.count({\n        num_seasons: {\n          $gt: 0\n        },\n        type: \"show\"\n      }).exec();\n      const totalMovies = await Movie.count().exec();\n      const totalShows = await Show.count({\n        num_seasons: {\n          $gt: 0\n        }\n      }).exec();\n\n      return res.json({\n        repo: repository.url,\n        server,\n        status,\n        totalAnimes,\n        totalMovies,\n        totalShows,\n        updated,\n        uptime: process.uptime() | 0,\n        version,\n        commit\n      });\n    } catch (err) {\n      return next(err);\n    }\n  };\n\n  /**\n   * Displays the 'popcorn-api.log' file.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @returns {File} - The content of the log file.\n   */\n  getErrorLog(req, res) {\n    return Index._displayFile(req, res, tempDir, `${name}.log`);\n  };\n\n};\n"
  },
  {
    "__docId__": 77,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Index",
    "memberof": "src/controllers/index.js",
    "longname": "src/controllers/index.js~Index",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/controllers/index.js",
    "importStyle": "Index",
    "description": "class for displaying information about the server the API is running on.",
    "lineNumber": 22,
    "interface": false
  },
  {
    "__docId__": 78,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/index.js~Index",
    "longname": "src/controllers/index.js~Index#constructor",
    "access": null,
    "description": "Create an index object.",
    "lineNumber": 25,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 79,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_displayFile",
    "memberof": "src/controllers/index.js~Index",
    "longname": "src/controllers/index.js~Index._displayFile",
    "access": null,
    "description": "Displays a given file.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{JSON | File} - A file to display in the browser."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "root",
        "description": "The path to the file."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "file",
        "description": "The name of the file."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "JSON ",
        " File"
      ],
      "spread": false,
      "description": "A file to display in the browser."
    },
    "generator": false
  },
  {
    "__docId__": 80,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getIndex",
    "memberof": "src/controllers/index.js~Index",
    "longname": "src/controllers/index.js~Index#getIndex",
    "access": null,
    "description": "Get general information about the server.",
    "lineNumber": 61,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{JSON} - General information about the server."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "JSON"
      ],
      "spread": false,
      "description": "General information about the server."
    },
    "generator": false
  },
  {
    "__docId__": 81,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getErrorLog",
    "memberof": "src/controllers/index.js~Index",
    "longname": "src/controllers/index.js~Index#getErrorLog",
    "access": null,
    "description": "Displays the 'popcorn-api.log' file.",
    "lineNumber": 102,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{File} - The content of the log file."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "File"
      ],
      "spread": false,
      "description": "The content of the log file."
    },
    "generator": false
  },
  {
    "__docId__": 82,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/movies.js",
    "memberof": null,
    "longname": "src/controllers/movies.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport Movie from \"../models/Movie\";\nimport { pageSize } from \"../config/constants\";\n\n/** Class for getting movie data from the MongoDB. */\nexport default class Movies {\n\n  /** Create a movies object. */\n  constructor() {\n    /**\n     * Object used for the projection of movies.\n     * @type {Object}\n     */\n    Movies._projection = {\n      _id: 1,\n      imdb_id: 1,\n      title: 1,\n      year: 1,\n      runtime: 1,\n      images: 1,\n      genres: 1,\n      synopsis: 1,\n      trailer: 1,\n      certification: 1,\n      released: 1,\n      rating: 1,\n      torrents: 1\n    };\n  };\n\n  /**\n   * Get all the pages.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {String[]} - A list of pages which are available.\n   */\n  getMovies(req, res, next) {\n    return Movie.count().exec().then(count => {\n      const pages = Math.round(count / pageSize);\n      const docs = [];\n\n      for (let i = 1; i < pages + 1; i++) docs.push(`movies/${i}`);\n\n      return res.json(docs);\n    }).catch(err => next(err));\n  };\n\n  /**\n   * Get one page.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Movie[]} - The contents of one page.\n   */\n  getPage(req, res, next) {\n    const page = req.params.page - 1;\n    const offset = page * pageSize;\n\n    if (req.params.page.match(/all/i)) {\n      return Movie.aggregate([{\n          $project: Movies._projection\n        }, {\n          $sort: {\n            title: -1\n          }\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => next(err));\n    } else {\n      const query = {};\n      const data = req.query;\n\n      if (!data.order) data.order = -1;\n\n      let sort = {\n        \"rating.votes\": parseInt(data.order, 10),\n        \"rating.percentage\": parseInt(data.order, 10),\n        \"rating.watching\": parseInt(data.order, 10)\n      };\n\n      if (data.keywords) {\n        const words = data.keywords.split(\" \");\n        let regex = \"^\";\n\n        for (let w in words) {\n          words[w] = words[w].replace(/[^a-zA-Z0-9]/g, \"\");\n          regex += `(?=.*\\\\b${RegExp.escape(words[w].toLowerCase())}\\\\b)`;\n        }\n\n        query.title = {\n          $regex: new RegExp(`${regex}.*`),\n          $options: \"gi\"\n        };\n      }\n\n      if (data.sort) {\n        if (data.sort.match(/last added/i)) sort = {\n          \"released\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/rating/i)) sort = {\n          \"rating.percentage\": parseInt(data.order, 10),\n          \"rating.votes\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/title/i)) sort = {\n          \"title\": (parseInt(data.order, 10) * 1)\n        };\n        if (data.sort.match(/trending/i)) sort = {\n          \"rating.watching\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/year/i)) sort = {\n          \"year\": parseInt(data.order, 10)\n        };\n      }\n\n      if (data.genre && !data.genre.match(/all/i)) {\n        if (data.genre.match(/science[-\\s]fiction/i) || data.genre.match(/sci[-\\s]fi/i)) data.genre = \"science-fiction\";\n        query.genres = data.genre.toLowerCase();\n      }\n\n      return Movie.aggregate([{\n          $sort: sort\n        }, {\n          $match: query\n        }, {\n          $project: Movies._projection\n        }, {\n          $skip: offset\n        }, {\n          $limit: pageSize\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => next(err));\n    }\n  };\n\n  /**\n   * Get info from one movie.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Movie} - The details of a single movie.\n   */\n  getMovie(req, res, next) {\n    return Movie.aggregate([{\n        $match: {\n          _id: req.params.id\n        }\n      }, {\n        $project: Movies._projection\n      }, {\n        $limit: 1\n      }]).exec()\n      .then(docs => res.json(docs[0]))\n      .catch(err => next(err));\n  };\n\n  /**\n   * Get a random movie.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Movie} - A random movie.\n   */\n  getRandomMovie(req, res, next) {\n    return Movie.aggregate([{\n        $project: Movies._projection\n      }, {\n        $sample: {\n          size: 1\n        }\n      }, {\n        $limit: 1\n      }]).exec()\n      .then(docs => res.json(docs[0]))\n      .catch(err => next(err));\n  };\n\n};\n"
  },
  {
    "__docId__": 83,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Movies",
    "memberof": "src/controllers/movies.js",
    "longname": "src/controllers/movies.js~Movies",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/controllers/movies.js",
    "importStyle": "Movies",
    "description": "Class for getting movie data from the MongoDB.",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 84,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/movies.js~Movies",
    "longname": "src/controllers/movies.js~Movies#constructor",
    "access": null,
    "description": "Create a movies object.",
    "lineNumber": 9,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 85,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getMovies",
    "memberof": "src/controllers/movies.js~Movies",
    "longname": "src/controllers/movies.js~Movies#getMovies",
    "access": null,
    "description": "Get all the pages.",
    "lineNumber": 38,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]} - A list of pages which are available."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": "A list of pages which are available."
    },
    "generator": false
  },
  {
    "__docId__": 86,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getPage",
    "memberof": "src/controllers/movies.js~Movies",
    "longname": "src/controllers/movies.js~Movies#getPage",
    "access": null,
    "description": "Get one page.",
    "lineNumber": 56,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} - The contents of one page."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "The contents of one page."
    },
    "generator": false
  },
  {
    "__docId__": 87,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getMovie",
    "memberof": "src/controllers/movies.js~Movies",
    "longname": "src/controllers/movies.js~Movies#getMovie",
    "access": null,
    "description": "Get info from one movie.",
    "lineNumber": 144,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - The details of a single movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "The details of a single movie."
    },
    "generator": false
  },
  {
    "__docId__": 88,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRandomMovie",
    "memberof": "src/controllers/movies.js~Movies",
    "longname": "src/controllers/movies.js~Movies#getRandomMovie",
    "access": null,
    "description": "Get a random movie.",
    "lineNumber": 165,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - A random movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A random movie."
    },
    "generator": false
  },
  {
    "__docId__": 89,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/controllers/shows.js",
    "memberof": null,
    "longname": "src/controllers/shows.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport Show from \"../models/Show\";\nimport { pageSize } from \"../config/constants\";\n\n/** class for getting show data from the MongoDB. */\nexport default class Shows {\n\n  /**\n   * Create a shows object.\n   */\n  constructor() {\n    /**\n     * Object used for the projections of shows.\n     * @type {Object}\n     */\n    Shows._projections = {\n      _id: 1,\n      imdb_id: 1,\n      tvdb_id: 1,\n      title: 1,\n      year: 1,\n      images: 1,\n      slug: 1,\n      num_seasons: 1,\n      rating: 1\n    };\n  };\n\n  /**\n   * Get all the pages.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {String[]} - A list of pages which are available.\n   */\n  getShows(req, res, next) {\n    return Show.count({\n      num_seasons: {\n        $gt: 0\n      }\n    }).exec().then(count => {\n      const pages = Math.round(count / pageSize);\n      const docs = [];\n\n      for (let i = 1; i < pages + 1; i++) docs.push(`shows/${i}`);\n\n      return res.json(docs);\n    }).catch(err => next(err));\n  };\n\n  /**\n   * Get one page.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Show[]} - The contents of one page.\n   */\n  getPage(req, res, next) {\n    const page = req.params.page - 1;\n    const offset = page * pageSize;\n\n    if (req.params.page.match(/all/i)) {\n      return Show.aggregate([{\n          $match: {\n            num_seasons: {\n              $gt: 0\n            }\n          }\n        }, {\n          $project: Shows._projections\n        }, {\n          $sort: {\n            title: -1\n          }\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => next(err));\n    } else {\n      const query = {\n        num_seasons: {\n          $gt: 0\n        }\n      };\n      const data = req.query;\n\n      if (!data.order) data.order = -1;\n\n      let sort = {\n        \"rating.votes\": parseInt(data.order, 10),\n        \"rating.percentage\": parseInt(data.order, 10),\n        \"rating.watching\": parseInt(data.order, 10)\n      };\n\n      if (data.keywords) {\n        const words = data.keywords.split(\" \");\n        let regex = \"^\";\n\n        for (let w in words) {\n          words[w] = words[w].replace(/[^a-zA-Z0-9]/g, \"\");\n          regex += `(?=.*\\\\b${RegExp.escape(words[w].toLowerCase())}\\\\b)`;\n        }\n\n        query.title = {\n          $regex: new RegExp(`${regex}.*`),\n          $options: \"gi\"\n        };\n      }\n\n      if (data.sort) {\n        if (data.sort.match(/name/i)) sort = {\n          \"title\": (parseInt(data.order, 10) * -1)\n        };\n        if (data.sort.match(/rating/i)) sort = {\n          \"rating.percentage\": parseInt(data.order, 10),\n          \"rating.votes\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/trending/i)) sort = {\n          \"rating.watching\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/updated/i)) sort = {\n          \"latest_episode\": parseInt(data.order, 10)\n        };\n        if (data.sort.match(/year/i)) sort = {\n          \"year\": parseInt(data.order, 10)\n        };\n      }\n\n      if (data.genre && !data.genre.match(/all/i)) {\n        if (data.genre.match(/science[-\\s]fiction/i) || data.genre.match(/sci[-\\s]fi/i)) data.genre = \"science-fiction\";\n        query.genres = data.genre.toLowerCase();\n      }\n\n      return Show.aggregate([{\n          $sort: sort\n        }, {\n          $match: query\n        }, {\n          $project: Shows._projections\n        }, {\n          $skip: offset\n        }, {\n          $limit: pageSize\n        }]).exec()\n        .then(docs => res.json(docs))\n        .catch(err => res.jfson(err));\n    }\n  };\n\n  /**\n   * Get info from one show.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Show} - The details of a single show.\n   */\n  getShow(req, res, next) {\n    return Show.findOne({\n        _id: req.params.id\n      }, {\n        latest_episode: 0\n      }).exec()\n      .then(docs => res.json(docs))\n      .catch(err => next(err));\n  };\n\n  /**\n   * Get a random show.\n   * @param {Request} req - The express request object.\n   * @param {Response} res - The express response object.\n   * @param {Function} next - The next function for Express.\n   * @returns {Show} - A random show.\n   */\n  getRandomShow(req, res, next) {\n    return Show.aggregate([{\n        $project: Shows._projections\n      }, {\n        $sample: {\n          size: 1\n        }\n      }, {\n        $limit: 1\n      }]).exec()\n      .then(docs => res.json(docs[0]))\n      .catch(err => next(err));\n  };\n\n};\n"
  },
  {
    "__docId__": 90,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Shows",
    "memberof": "src/controllers/shows.js",
    "longname": "src/controllers/shows.js~Shows",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/controllers/shows.js",
    "importStyle": "Shows",
    "description": "class for getting show data from the MongoDB.",
    "lineNumber": 6,
    "interface": false
  },
  {
    "__docId__": 91,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/controllers/shows.js~Shows",
    "longname": "src/controllers/shows.js~Shows#constructor",
    "access": null,
    "description": "Create a shows object.",
    "lineNumber": 11,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 92,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getShows",
    "memberof": "src/controllers/shows.js~Shows",
    "longname": "src/controllers/shows.js~Shows#getShows",
    "access": null,
    "description": "Get all the pages.",
    "lineNumber": 36,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{String[]} - A list of pages which are available."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "String[]"
      ],
      "spread": false,
      "description": "A list of pages which are available."
    },
    "generator": false
  },
  {
    "__docId__": 93,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getPage",
    "memberof": "src/controllers/shows.js~Shows",
    "longname": "src/controllers/shows.js~Shows#getPage",
    "access": null,
    "description": "Get one page.",
    "lineNumber": 58,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} - The contents of one page."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "The contents of one page."
    },
    "generator": false
  },
  {
    "__docId__": 94,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getShow",
    "memberof": "src/controllers/shows.js~Shows",
    "longname": "src/controllers/shows.js~Shows#getShow",
    "access": null,
    "description": "Get info from one show.",
    "lineNumber": 156,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - The details of a single show."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "The details of a single show."
    },
    "generator": false
  },
  {
    "__docId__": 95,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getRandomShow",
    "memberof": "src/controllers/shows.js~Shows",
    "longname": "src/controllers/shows.js~Shows#getRandomShow",
    "access": null,
    "description": "Get a random show.",
    "lineNumber": 173,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A random show."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Request"
        ],
        "spread": false,
        "optional": false,
        "name": "req",
        "description": "The express request object."
      },
      {
        "nullable": null,
        "types": [
          "Response"
        ],
        "spread": false,
        "optional": false,
        "name": "res",
        "description": "The express response object."
      },
      {
        "nullable": null,
        "types": [
          "Function"
        ],
        "spread": false,
        "optional": false,
        "name": "next",
        "description": "The next function for Express."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A random show."
    },
    "generator": false
  },
  {
    "__docId__": 96,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/index.js",
    "memberof": null,
    "longname": "src/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport cluster from \"cluster\";\nimport domain from \"domain\";\nimport Express from \"express\";\nimport http from \"http\";\nimport os from \"os\";\nimport { CronJob } from \"cron\";\n\nimport Logger from \"./config/logger\";\nimport Routes from \"./config/routes\";\nimport Scraper from \"./scraper\";\nimport Setup from \"./config/setup\";\nimport Util from \"./util\";\nimport { cronTime, master, port, timeZone, workers } from \"./config/constants\";\n\n/**\n * Class for starting the API.\n *\n * @example\n * // Simply start the API by creating a new instance of the Index class.\n * const index = new Index();\n *\n * @example\n * // Or override the default configuration of the Index class.\n * const index = new Index({\n *    start: true,\n *    pretty: true,\n *    verbose: false,\n *    debug: false\n * });\n */\nexport default class Index {\n\n  /**\n   * Create an index object.\n   * @param {Object} config - Configuration for the API.\n   * @param {Boolean} [config.start=true] - Start the scraping process.\n   * @param {Boolean} [config.pretty=true] - Pretty output with Winston logging.\n   * @param {Boolean} [config.verbose=false] - Debug mode for no output.\n   * @param {Boolean} [config.debug=false] - Debug mode for extra output.\n   */\n  constructor({ start = true, pretty = true, verbose = false, debug = false } = {}) {\n    /**\n     * The express object.\n     * @type {Express}\n     */\n    Index._app = new Express();\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    Index._util = new Util();\n\n    /**\n     * The scraper object to scrape for torrents.\n     * @type {Scraper}\n     */\n    Index._scraper = new Scraper(debug);\n\n    /**\n     * The logger object to configure the logging.\n     * @type {Logger}\n     */\n    Index._logger = new Logger(pretty, verbose);\n\n    // Setup the MongoDB configuration and ExpressJS configuration.\n    new Setup(Index._app, pretty, verbose);\n\n    // Setup the API routes.\n    new Routes(Index._app);\n\n    /**\n     * The http server object.\n     * @type {Object}\n     */\n    Index._server = http.createServer(Index._app);\n\n    // Start the API.\n    Index._startAPI(start);\n  };\n\n  /**\n   * Function to start the API.\n   * @param {?Boolean} start - Start the scraping.\n   */\n  static _startAPI(start) {\n    if (cluster.isMaster) { // Check is the cluster is the master\n      // Clear the log files from the temp directory.\n      Index._util.resetLog();\n\n      // Setup the temporary directory\n      Index._util.createTemp();\n\n      // Fork workers.\n      for (let i = 0; i < Math.min(os.cpus().length, workers); i++) cluster.fork();\n\n      // Check for errors with the workers.\n      cluster.on(\"exit\", worker => {\n        Index._util.onError(`Worker '${worker.process.pid}' died, spinning up another!`);\n        cluster.fork();\n      });\n\n      // Start the cronjob.\n      if (master) {\n        // WARNING: Domain module is pending deprication: https://nodejs.org/api/domain.html\n        const scope = domain.create();\n        scope.run(() => {\n          logger.info(\"API started\");\n          try {\n            new CronJob({\n              cronTime,\n              timeZone,\n              onComplete: () => Index._util.setStatus(),\n              onTick: () => Index._scraper.scrape(),\n              start: true\n            });\n\n            Index._util.setLastUpdated(\"Never\");\n            Index._util.setStatus();\n            if (start) Index._scraper.scrape();\n          } catch (err) {\n            return Index._util.onError(err);\n          }\n        });\n        scope.on(\"error\", err => Index._util.onError(err));\n      }\n    } else {\n      Index._server.listen(port);\n    }\n  };\n\n  /**\n   * Function to stop the API from running.\n   */\n  static closeAPI() {\n    Index._server.close(() => {\n      logger.info(\"Closed out remaining connections.\");\n      process.exit();\n    });\n  };\n\n};\n"
  },
  {
    "__docId__": 97,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Index",
    "memberof": "src/index.js",
    "longname": "src/index.js~Index",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/index.js",
    "importStyle": "Index",
    "description": "Class for starting the API.",
    "examples": [
      "// Simply start the API by creating a new instance of the Index class.\nconst index = new Index();",
      "// Or override the default configuration of the Index class.\nconst index = new Index({\n   start: true,\n   pretty: true,\n   verbose: false,\n   debug: false\n});"
    ],
    "lineNumber": 32,
    "interface": false
  },
  {
    "__docId__": 98,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/index.js~Index",
    "longname": "src/index.js~Index#constructor",
    "access": null,
    "description": "Create an index object.",
    "lineNumber": 42,
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "config",
        "description": "Configuration for the API."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "config.start",
        "description": "Start the scraping process."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "config.pretty",
        "description": "Pretty output with Winston logging."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "config.verbose",
        "description": "Debug mode for no output."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "false",
        "defaultRaw": false,
        "name": "config.debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 99,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "_startAPI",
    "memberof": "src/index.js~Index",
    "longname": "src/index.js~Index._startAPI",
    "access": null,
    "description": "Function to start the API.",
    "lineNumber": 87,
    "params": [
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "start",
        "description": "Start the scraping."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 100,
    "kind": "method",
    "static": true,
    "variation": null,
    "name": "closeAPI",
    "memberof": "src/index.js~Index",
    "longname": "src/index.js~Index.closeAPI",
    "access": null,
    "description": "Function to stop the API from running.",
    "lineNumber": 136,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 101,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/Anime.js",
    "memberof": null,
    "longname": "src/models/Anime.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport mongoose from \"mongoose\";\n\n// The anime schema used by mongoose.\nconst AnimeSchema = new mongoose.Schema({\n  _id: {\n    type: String,\n    required: true,\n    index: {\n      unique: true\n    }\n  },\n  mal_id: String,\n  title: String,\n  year: String,\n  slug: String,\n  synopsis: String,\n  runtime: String,\n  status: String,\n  rating: {\n    percentage: Number,\n    watching: Number,\n    votes: Number,\n    loved: Number,\n    hated: Number\n  },\n  type: String,\n  num_seasons: Number,\n  last_updated: Number,\n  latest_episode: {\n    type: Number,\n    default: 0\n  },\n  images: {\n    banner: String,\n    fanart: String,\n    poster: String\n  },\n  genres: [],\n  episodes: []\n});\n\n// Create the anime model.\nconst Anime = mongoose.model(\"Anime\", AnimeSchema);\n\n/**\n * A model object for anime shows.\n * @type {Anime}\n */\nexport default Anime;\n"
  },
  {
    "__docId__": 102,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "AnimeSchema",
    "memberof": "src/models/Anime.js",
    "longname": "src/models/Anime.js~AnimeSchema",
    "access": null,
    "export": false,
    "importPath": "popcorn-api/src/models/Anime.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 103,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Anime",
    "memberof": "src/models/Anime.js",
    "longname": "src/models/Anime.js~Anime",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/models/Anime.js",
    "importStyle": "Anime",
    "description": "A model object for anime shows.",
    "lineNumber": 44,
    "type": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 104,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/Movie.js",
    "memberof": null,
    "longname": "src/models/Movie.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport mongoose from \"mongoose\";\n\n// The movie schema used by mongoose.\nconst MovieSchema = new mongoose.Schema({\n  _id: {\n    type: String,\n    required: true,\n    index: {\n      unique: true\n    }\n  },\n  imdb_id: String,\n  title: String,\n  year: String,\n  slug: String,\n  synopsis: String,\n  runtime: String,\n  rating: {\n    percentage: Number,\n    watching: Number,\n    votes: Number,\n    loved: Number,\n    hated: Number\n  },\n  country: String,\n  last_updated: Number,\n  images: {\n    banner: String,\n    fanart: String,\n    poster: String\n  },\n  genres: [],\n  released: Number,\n  trailer: String,\n  certification: String,\n  torrents: {}\n});\n\n// Create the movie model.\nconst Movie = mongoose.model(\"Movie\", MovieSchema);\n\n/**\n * A model object for movies.\n * @type {Movie}\n */\nexport default Movie;\n"
  },
  {
    "__docId__": 105,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "MovieSchema",
    "memberof": "src/models/Movie.js",
    "longname": "src/models/Movie.js~MovieSchema",
    "access": null,
    "export": false,
    "importPath": "popcorn-api/src/models/Movie.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 106,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Movie",
    "memberof": "src/models/Movie.js",
    "longname": "src/models/Movie.js~Movie",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/models/Movie.js",
    "importStyle": "Movie",
    "description": "A model object for movies.",
    "lineNumber": 41,
    "type": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 107,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/models/Show.js",
    "memberof": null,
    "longname": "src/models/Show.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport mongoose from \"mongoose\";\n\n// The show schema used by mongoose.\nconst ShowSchema = new mongoose.Schema({\n  _id: {\n    type: String,\n    required: true,\n    index: {\n      unique: true\n    }\n  },\n  imdb_id: String,\n  tvdb_id: String,\n  title: String,\n  year: String,\n  slug: String,\n  synopsis: String,\n  runtime: String,\n  rating: {\n    percentage: Number,\n    watching: Number,\n    votes: Number,\n    loved: Number,\n    hated: Number\n  },\n  country: String,\n  network: String,\n  air_day: String,\n  air_time: String,\n  status: String,\n  num_seasons: Number,\n  last_updated: Number,\n  latest_episode: {\n    type: Number,\n    default: 0\n  },\n  images: {\n    banner: String,\n    fanart: String,\n    poster: String\n  },\n  genres: [],\n  episodes: []\n});\n\n// Create the show model.\nconst Show = mongoose.model(\"Show\", ShowSchema);\n\n/**\n * A model object for shows.\n * @type {Show}\n */\nexport default Show;\n"
  },
  {
    "__docId__": 108,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "ShowSchema",
    "memberof": "src/models/Show.js",
    "longname": "src/models/Show.js~ShowSchema",
    "access": null,
    "export": false,
    "importPath": "popcorn-api/src/models/Show.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 109,
    "kind": "variable",
    "static": true,
    "variation": null,
    "name": "Show",
    "memberof": "src/models/Show.js",
    "longname": "src/models/Show.js~Show",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/models/Show.js",
    "importStyle": "Show",
    "description": "A model object for shows.",
    "lineNumber": 48,
    "type": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 110,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/popcorn-api.js",
    "memberof": null,
    "longname": "src/popcorn-api.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "#!/usr/bin/env node\n\n// Import the neccesary modules.\nimport CLI from \"./cli\";\n\n// Run the CLI program.\nnew CLI().run();\n"
  },
  {
    "__docId__": 111,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/anime/extratorrent.js",
    "memberof": null,
    "longname": "src/providers/anime/extratorrent.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport ExtraTorrentAPI from \"extratorrent-api\";\n\nimport Extractor from \"../extractors/animeextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping anime shows from https://extratorrent.cc/. */\nexport default class ExtraTorrent {\n\n   /**\n    * Create an extratorrent object for anime content.\n    * @param {String} name - The name of the content provider.\n    * @param {?Boolean} debug - Debug mode for extra output.\n    */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting anime data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new ExtraTorrentAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://extratorrent.cc/.\n   * @returns {Anime[]} - A list of scraped anime shows.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.category = \"anime\";\n      provider.query.page = 1;\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 112,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ExtraTorrent",
    "memberof": "src/providers/anime/extratorrent.js",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/anime/extratorrent.js",
    "importStyle": "ExtraTorrent",
    "description": "Class for scraping anime shows from https://extratorrent.cc/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 113,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent#constructor",
    "access": null,
    "description": "Create an extratorrent object for anime content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 114,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 115,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent#_extractor",
    "access": null,
    "description": "The extractor object for getting anime data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 116,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 117,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/anime/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/anime/extratorrent.js~ExtraTorrent#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - A list of scraped anime shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://extratorrent.cc/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of scraped anime shows."
    },
    "generator": false
  },
  {
    "__docId__": 118,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/anime/horriblesubs.js",
    "memberof": null,
    "longname": "src/providers/anime/horriblesubs.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport HorribleSubsAPI from \"horriblesubs-api\";\n\nimport Extractor from \"../extractors/animeextractor\";\nimport Util from \"../../util\";\nimport { maxWebRequest } from \"../../config/constants\";\n\n/** Class for scraping anime from https://horriblesubs.info/. */\nexport default class HorribleSubs {\n\n  /**\n   * Create an horriblesubs object for anime content.\n   * @param {String} name - The name of the content provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * A configured HorribleSubs API.\n     * @type {HorribleSubsAPI}\n     * @see https://github.com/ChrisAlderson/horriblesubs-api\n     */\n    this._horriblesubs = new HorribleSubsAPI({\n      cloudflare: true,\n      debug\n    });\n\n    /**\n     * The extractor object for getting show data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, this._horriblesubs, debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @returns {Anime[]} - A list of scraped animes.\n   */\n  async search() {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      const animes = await this._horriblesubs.getAllAnime();\n      logger.info(`${this.name}: Found ${animes.length} anime shows.`);\n\n      return await asyncq.mapLimit(animes, maxWebRequest, async anime => {\n        try {\n          anime = await this._horriblesubs.getAnimeData(anime);\n          return await this._extractor.getAnime(anime);\n        } catch (err) {\n          return this._util.onError(err);\n        }\n      });\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 119,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "HorribleSubs",
    "memberof": "src/providers/anime/horriblesubs.js",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/anime/horriblesubs.js",
    "importStyle": "HorribleSubs",
    "description": "Class for scraping anime from https://horriblesubs.info/.",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 120,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#constructor",
    "access": null,
    "description": "Create an horriblesubs object for anime content.",
    "lineNumber": 17,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 121,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 122,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_horriblesubs",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#_horriblesubs",
    "access": null,
    "description": "A configured HorribleSubs API.",
    "see": [
      "https://github.com/ChrisAlderson/horriblesubs-api"
    ],
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "HorribleSubsAPI"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 123,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#_extractor",
    "access": null,
    "description": "The extractor object for getting show data on torrents.",
    "lineNumber": 38,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 124,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 44,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 125,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/anime/horriblesubs.js~HorribleSubs",
    "longname": "src/providers/anime/horriblesubs.js~HorribleSubs#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 51,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - A list of scraped animes."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of scraped animes."
    },
    "generator": false
  },
  {
    "__docId__": 126,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/anime/kat.js",
    "memberof": null,
    "longname": "src/providers/anime/kat.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport KatAPI from \"kat-api-pt\";\n\nimport Extractor from \"../extractors/animeextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping anime shows from https://kat.cr/. */\nexport default class KAT {\n\n  /**\n   * Create a kat object for anime content.\n   * @param {String} name - The name of the content provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting anime data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new KatAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://kat.cr/.\n   * @returns {Anime[]} - A list of scraped anime shows.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.page = 1;\n      provider.query.verified = 1;\n      provider.query.adult_filter = 1;\n      provider.query.category = \"english-translated\";\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 127,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "KAT",
    "memberof": "src/providers/anime/kat.js",
    "longname": "src/providers/anime/kat.js~KAT",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/anime/kat.js",
    "importStyle": "KAT",
    "description": "Class for scraping anime shows from https://kat.cr/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 128,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/anime/kat.js~KAT",
    "longname": "src/providers/anime/kat.js~KAT#constructor",
    "access": null,
    "description": "Create a kat object for anime content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 129,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/anime/kat.js~KAT",
    "longname": "src/providers/anime/kat.js~KAT#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 130,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/anime/kat.js~KAT",
    "longname": "src/providers/anime/kat.js~KAT#_extractor",
    "access": null,
    "description": "The extractor object for getting anime data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 131,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/anime/kat.js~KAT",
    "longname": "src/providers/anime/kat.js~KAT#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 132,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/anime/kat.js~KAT",
    "longname": "src/providers/anime/kat.js~KAT#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - A list of scraped anime shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://kat.cr/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of scraped anime shows."
    },
    "generator": false
  },
  {
    "__docId__": 133,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/anime/nyaa.js",
    "memberof": null,
    "longname": "src/providers/anime/nyaa.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport NyaaAPI from \"nyaa-api-pt\";\n\nimport Extractor from \"../extractors/animeextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping anime shows from https://extratorrent.cc/. */\nexport default class ExtraTorrent {\n\n   /**\n    * Create an extratorrent object for anime content.\n    * @param {String} name - The name of the content provider.\n    * @param {?Boolean} debug - Debug mode for extra output.\n    */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting anime data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new NyaaAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://extratorrent.cc/.\n   * @returns {Anime[]} - A list of scraped anime shows.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.category = \"anime\";\n      provider.query.sub_category = \"english_translated\";\n      provider.query.offset = 1;\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 134,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ExtraTorrent",
    "memberof": "src/providers/anime/nyaa.js",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/anime/nyaa.js",
    "importStyle": "ExtraTorrent",
    "description": "Class for scraping anime shows from https://extratorrent.cc/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 135,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/anime/nyaa.js~ExtraTorrent",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent#constructor",
    "access": null,
    "description": "Create an extratorrent object for anime content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 136,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/anime/nyaa.js~ExtraTorrent",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 137,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/anime/nyaa.js~ExtraTorrent",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent#_extractor",
    "access": null,
    "description": "The extractor object for getting anime data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 138,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/anime/nyaa.js~ExtraTorrent",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 139,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/anime/nyaa.js~ExtraTorrent",
    "longname": "src/providers/anime/nyaa.js~ExtraTorrent#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - A list of scraped anime shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://extratorrent.cc/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of scraped anime shows."
    },
    "generator": false
  },
  {
    "__docId__": 140,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/extractors/animeextractor.js",
    "memberof": null,
    "longname": "src/providers/extractors/animeextractor.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport BaseExtractor from \"./baseextractor\";\nimport Helper from \"../helpers/animehelper\";\nimport Util from \"../../util\";\nimport { maxWebRequest, animeMap } from \"../../config/constants\";\n\n/** Class for extracting anime shows from torrents. */\nexport default class Extractor extends BaseExtractor {\n\n  /**\n   * Create an extractor object for anime content.\n   * @param {String} name - The name of the content provider.\n   * @param {Object} contentProvider - The content provider to extract content from.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, contentProvider, debug) {\n    super(name, contentProvider);\n\n    /**\n     * The helper object for adding anime shows.\n     * @type {Helper}\n     */\n    this._helper = new Helper(this.name, debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Get all the animes.\n   * @param {Object} anime - The anime information.\n   * @returns {Anime} - An anime.\n   */\n  async getAnime(anime) {\n    try {\n      const newAnime = await this._helper.getHummingbirdInfo(anime.slug);\n      if (newAnime && newAnime._id) {\n        delete anime.episodes[0];\n        return await this._helper.addEpisodes(newAnime, anime.episodes, anime.slug);\n      }\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Extract anime information based on a regex.\n   * @param {Object} torrent - The torrent to extract the anime information from.\n   * @param {Regex} regex - The regex to extract the anime information.\n   * @returns {Object} - Information about a anime from the torrent.\n   */\n  _extractAnime(torrent, regex) {\n    let animeTitle = torrent.title.match(regex)[1];\n    if (animeTitle.endsWith(\" \")) animeTitle = animeTitle.substring(0, animeTitle.length - 1);\n    animeTitle = animeTitle.replace(/\\_/g, \" \").replace(/\\./g, \" \");\n    let slug = animeTitle.replace(/[^a-zA-Z0-9 ]/gi, \"\").replace(/\\s+/g, \"-\").toLowerCase();\n    if (slug.endsWith(\"-\")) slug = slug.substring(0, slug.length - 1);\n    slug = slug in animeMap ? animeMap[slug] : slug;\n\n    const quality = torrent.title.match(/(\\d{3,4})p/) !== null ? torrent.title.match(/(\\d{3,4})p/)[0] : \"480p\";\n\n    let season = 1;\n    let episode;\n    if (torrent.title.match(regex).length >= 4) {\n      episode = parseInt(torrent.title.match(regex)[3], 10);\n    } else {\n      episode = parseInt(torrent.title.match(regex)[2], 10);\n    }\n\n    const episodeTorrent = {\n      url: torrent.magnet ? torrent.magnet : torrent.torrent_link,\n      seeds: torrent.seeds ? torrent.seeds : 0,\n      peers: torrent.peers ? torrent.peers : 0,\n      provider: this.name\n    };\n\n    const anime = {\n      animeTitle,\n      slug,\n      torrentLink: torrent.link,\n      season,\n      episode,\n      quality\n    };\n    anime.episodes = {};\n\n    if (!anime.episodes[season]) anime.episodes[season] = {};\n    if (!anime.episodes[season][episode]) anime.episodes[season][episode] = {};\n    if (!anime.episodes[season][episode][quality] || (anime.episodes[season][episode][quality] && anime.episodes[season][episode][quality].seed < episodeTorrent.seed))\n      anime.episodes[season][episode][quality] = episodeTorrent;\n\n    return anime;\n  };\n\n  /**\n   * Get anime info from a given torrent.\n   * @param {Object} torrent - A torrent object to extract anime information from.\n   * @returns {Object} - Information about an anime from the torrent.\n   */\n   _getAnimeData(torrent) {\n     const secondSeason = /\\[.*\\].(\\D+).S(\\d+)...(\\d{2,3}).*\\.mkv/i;\n     const oneSeason = /\\[.*\\].(\\D+)...(\\d{2,3}).*\\.mkv/i;\n     if (torrent.title.match(secondSeason)) {\n       return this._extractAnime(torrent, secondSeason);\n     } else if  (torrent.title.match(oneSeason)) {\n       return this._extractAnime(torrent, oneSeason);\n     } else {\n       logger.warn(`${this.name}: Could not find data from torrent: '${torrent.title}'`);\n     }\n   };\n\n  /**\n   * Puts all the found animes from the torrents in an array.\n   * @param {Array} torrents - A list of torrents to extract anime information.\n   * @returns {Array} - A list of objects with anime information extracted from the torrents.\n   */\n  async _getAllAnimes(torrents) {\n    try {\n      const animes = [];\n      await asyncq.mapSeries(torrents, torrent => {\n        if (torrent) {\n          const anime = this._getAnimeData(torrent);\n          if (anime) {\n            if (animes.length != 0) {\n              const { animeTitle, slug, season, episode, quality } = anime;\n              const matching = animes\n                .filter(a => a.animeTitle === animeTitle)\n                .filter(a => a.slug === slug);\n\n              if (matching.length != 0) {\n                const index = animes.indexOf(matching[0]);\n                if (!matching[0].episodes[season]) matching[0].episodes[season] = {};\n                if (!matching[0].episodes[season][episode]) matching[0].episodes[season][episode] = {};\n                if (!matching[0].episodes[season][episode][quality] || (matching[0].episodes[season][episode][quality] && matching[0].episodes[season][episode][quality].seed < anime.episodes[season][episode][quality].seed))\n                  matching[0].episodes[season][episode][quality] = anime.episodes[season][episode][quality];\n\n                animes.splice(index, 1, matching[0]);\n              } else {\n                animes.push(anime);\n              }\n            } else {\n              animes.push(anime);\n            }\n          }\n        }\n      });\n      return animes;\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query the content provider.\n   * @returns {Anime[]} - A list of scraped anime shows.\n   */\n  async search(provider) {\n    try {\n      const getTotalPages = await this._contentProvider.search(provider.query);\n      const totalPages = getTotalPages.total_pages; // Change to 'const' for production.\n      if (!totalPages) return this._util.onError(`${this.name}: total_pages returned: '${totalPages}'`);\n      // totalPages = 3; // For testing purposes only.\n      logger.info(`${this.name}: Total pages ${totalPages}`);\n\n      const torrents = await this._getAllTorrents(totalPages, provider);\n      const animes = await this._getAllAnimes(torrents);\n      return await asyncq.mapLimit(animes, maxWebRequest, anime => this.getAnime(anime));\n    } catch (err) {\n      this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 141,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Extractor",
    "memberof": "src/providers/extractors/animeextractor.js",
    "longname": "src/providers/extractors/animeextractor.js~Extractor",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/extractors/animeextractor.js",
    "importStyle": "Extractor",
    "description": "Class for extracting anime shows from torrents.",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/providers/extractors/baseextractor.js~BaseExtractor"
    ]
  },
  {
    "__docId__": 142,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#constructor",
    "access": null,
    "description": "Create an extractor object for anime content.",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "contentProvider",
        "description": "The content provider to extract content from."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 143,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_helper",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#_helper",
    "access": null,
    "description": "The helper object for adding anime shows.",
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Helper"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 144,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 145,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getAnime",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#getAnime",
    "access": null,
    "description": "Get all the animes.",
    "lineNumber": 39,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - An anime."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "An anime."
    },
    "generator": false
  },
  {
    "__docId__": 146,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_extractAnime",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#_extractAnime",
    "access": null,
    "description": "Extract anime information based on a regex.",
    "lineNumber": 57,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about a anime from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "The torrent to extract the anime information from."
      },
      {
        "nullable": null,
        "types": [
          "Regex"
        ],
        "spread": false,
        "optional": false,
        "name": "regex",
        "description": "The regex to extract the anime information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about a anime from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 147,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getAnimeData",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#_getAnimeData",
    "access": null,
    "description": "Get anime info from a given torrent.",
    "lineNumber": 105,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about an anime from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "A torrent object to extract anime information from."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about an anime from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 148,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getAllAnimes",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#_getAllAnimes",
    "access": null,
    "description": "Puts all the found animes from the torrents in an array.",
    "lineNumber": 122,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array} - A list of objects with anime information extracted from the torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "torrents",
        "description": "A list of torrents to extract anime information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "A list of objects with anime information extracted from the torrents."
    },
    "generator": false
  },
  {
    "__docId__": 149,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/extractors/animeextractor.js~Extractor",
    "longname": "src/providers/extractors/animeextractor.js~Extractor#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 163,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} - A list of scraped anime shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query the content provider."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of scraped anime shows."
    },
    "generator": false
  },
  {
    "__docId__": 150,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/extractors/baseextractor.js",
    "memberof": null,
    "longname": "src/providers/extractors/baseextractor.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport Util from \"../../util\";\n\n/** Class for base extracting data from torrents. */\nexport default class BaseExtractor {\n\n   /**\n    * Create a base extractor object.\n    * @param {String} name - The name of the content provider.\n    * @param {Object} contentProvider - The content provider to extract content from.\n    */\n  constructor(name, contentProvider) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The content provider used by the extractor.\n     * @type {Object}\n     */\n    this._contentProvider = contentProvider;\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Get all the torrents of a given provider.\n   * @param {Integer} totalPages - The total pages of the query.\n   * @param {Object} provider - The provider to query the content provider.\n   * @returns {Array} - A list of all the queried torrents.\n   */\n  async _getAllTorrents(totalPages, provider) {\n    try {\n      let torrents = [];\n      await asyncq.timesSeries(totalPages, async page => {\n        try {\n          if (provider.query.page) provider.query.page = page + 1;\n          if (provider.query.offset) provider.query.offset = page + 1;\n\n          logger.info(`${this.name}: Starting searching ${this.name} on page ${page + 1} out of ${totalPages}`);\n          const result = await this._contentProvider.search(provider.query);\n          torrents = torrents.concat(result.results);\n        } catch (err) {\n          return this._util.onError(err);\n        }\n      });\n      logger.info(`${this.name}: Found ${torrents.length} torrents.`);\n      return torrents;\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 151,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "BaseExtractor",
    "memberof": "src/providers/extractors/baseextractor.js",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/extractors/baseextractor.js",
    "importStyle": "BaseExtractor",
    "description": "Class for base extracting data from torrents.",
    "lineNumber": 7,
    "interface": false
  },
  {
    "__docId__": 152,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor#constructor",
    "access": null,
    "description": "Create a base extractor object.",
    "lineNumber": 14,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "contentProvider",
        "description": "The content provider to extract content from."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 153,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 19,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 154,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_contentProvider",
    "memberof": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor#_contentProvider",
    "access": null,
    "description": "The content provider used by the extractor.",
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 155,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 156,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getAllTorrents",
    "memberof": "src/providers/extractors/baseextractor.js~BaseExtractor",
    "longname": "src/providers/extractors/baseextractor.js~BaseExtractor#_getAllTorrents",
    "access": null,
    "description": "Get all the torrents of a given provider.",
    "lineNumber": 40,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array} - A list of all the queried torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "totalPages",
        "description": "The total pages of the query."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query the content provider."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "A list of all the queried torrents."
    },
    "generator": false
  },
  {
    "__docId__": 157,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/extractors/movieextractor.js",
    "memberof": null,
    "longname": "src/providers/extractors/movieextractor.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport bytes from \"bytes\";\n\nimport BaseExtractor from \"./baseextractor\";\nimport Helper from \"../helpers/moviehelper\";\nimport Util from \"../../util\";\nimport { maxWebRequest, movieMap } from \"../../config/constants\";\n\n/** Class for extracting movies from torrents. */\nexport default class Extractor extends BaseExtractor {\n\n  /**\n   * Create an extractor object for movie content.\n   * @param {String} name - The name of the content provider.\n   * @param {Object} contentProvider - The content provider to extract content from.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, contentProvider, debug) {\n    super(name, contentProvider);\n\n    /**\n     * The helper object for adding movies.\n     * @type {Helper}\n     */\n    this._helper = new Helper(this.name);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Get all the movies.\n   * @param {Object} movie - The movie information.\n   * @returns {Movie} - A movie.\n   */\n  async _getMovie(movie) {\n    try {\n      const newMovie = await this._helper.getTraktInfo(movie.slugYear);\n      if (newMovie && newMovie._id) return await this._helper.addTorrents(newMovie, movie.torrents);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Extract movie information based on a regex.\n   * @param {Object} torrent - The torrent to extract the movie information from.\n   * @param {String} language - The language of the torrent.\n   * @param {Regex} regex - The regex to extract the movie information.\n   * @returns {Object} - Information about a movie from the torrent.\n   */\n  _extractMovie(torrent, language, regex) {\n    let movieTitle = torrent.title.match(regex)[1];\n    if (movieTitle.endsWith(\" \")) movieTitle = movieTitle.substring(0, movieTitle.length - 1);\n    movieTitle = movieTitle.replace(/\\./g, \" \");\n    let slug = movieTitle.replace(/[^a-zA-Z0-9 ]/gi, \"\").replace(/\\s+/g, \"-\").toLowerCase();\n    if (slug.endsWith(\"-\")) slug = slug.substring(0, slug.length - 1);\n    slug = slug in movieMap ? movieMap[slug] : slug;\n    const year = torrent.title.match(regex)[2];\n    const quality = torrent.title.match(regex)[3];\n\n    const size = torrent.size ? torrent.size : torrent.fileSize;\n\n    const movie = {\n      movieTitle,\n      slug,\n      slugYear: `${slug}-${year}`,\n      torrentLink: torrent.link,\n      year,\n      quality,\n      language\n    };\n    movie.torrents = {};\n\n    movie.torrents[language] = {};\n    movie.torrents[language][quality] = {\n      url: torrent.magnet ? torrent.magnet : torrent.torrent_link,\n      seed: torrent.seeds ? torrent.seeds : 0,\n      peer: torrent.peers ? torrent.peers : 0,\n      size: bytes(size.replace(/\\s/g, \"\")),\n      filesize: size,\n      provider: this.name\n    };\n\n    return movie;\n  };\n\n  /**\n   * Get movie info from a given torrent.\n   * @param {Object} torrent - A torrent object to extract movie information from.\n   * @param {String} language - The language of the torrent.\n   * @returns {Object} - Information about a movie from the torrent.\n   */\n  _getMovieData(torrent, language) {\n    const threeDimensions = /(.*).(\\d{4}).[3Dd]\\D+(\\d{3,4}p)/i;\n    const fourKay = /(.*).(\\d{4}).[4k]\\D+(\\d{3,4}p)/i;\n    const withYear = /(.*).(\\d{4})\\D+(\\d{3,4}p)/i;\n    if (torrent.title.match(threeDimensions)) {\n      return this._extractMovie(torrent, language, threeDimensions);\n    } else if (torrent.title.match(fourKay)) {\n      return this._extractMovie(torrent, language, fourKay);\n    } else if (torrent.title.match(withYear)) {\n      return this._extractMovie(torrent, language, withYear);\n    } else {\n      logger.warn(`${this.name}: Could not find data from torrent: '${torrent.title}'`);\n    }\n  };\n\n  /**\n   * Puts all the found movies from the torrents in an array.\n   * @param {Array} torrents - A list of torrents to extract movie information.\n   * @param {String} language - The language of the torrent.\n   * @returns {Array} - A list of objects with movie information extracted from the torrents.\n   */\n  async _getAllMovies(torrents, language) {\n    try {\n      const movies = [];\n      await asyncq.mapSeries(torrents, torrent => {\n        if (torrent) {\n          const movie = this._getMovieData(torrent, language);\n          if (movie) {\n            if (movies.length != 0) {\n              const { movieTitle, slug, language, quality } = movie;\n              const matching = movies\n                .filter(m => m.movieTitle === movieTitle)\n                .filter(m => m.slug === slug);\n\n              if (matching.length != 0) {\n                const index = movies.indexOf(matching[0]);\n                if (!matching[0].torrents[language][quality]) matching[0].torrents[language][quality] = movie.torrents[language][quality];\n\n                movies.splice(index, 1, matching[0]);\n              } else {\n                movies.push(movie);\n              }\n            } else {\n              movies.push(movie);\n            }\n          }\n        }\n      });\n      return movies;\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query content provider.\n   * @returns {Movie[]} - A list of scraped movies.\n   */\n  async search(provider) {\n    try {\n      const getTotalPages = await this._contentProvider.search(provider.query);\n      const totalPages = getTotalPages.total_pages; // Change to 'const' for production.\n      if (!totalPages) return this._util.onError(`${this.name}: total_pages returned: '${totalPages}'`);\n      // totalPages = 3; // For testing purposes only.\n      logger.info(`${this.name}: Total pages ${totalPages}`);\n\n      const torrents = await this._getAllTorrents(totalPages, provider);\n      const movies = await this._getAllMovies(torrents, provider.query.language);\n      return await asyncq.mapLimit(movies, maxWebRequest,\n        movie => this._getMovie(movie).catch(err => this._util.onError(err)));\n    } catch (err) {\n      this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 158,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Extractor",
    "memberof": "src/providers/extractors/movieextractor.js",
    "longname": "src/providers/extractors/movieextractor.js~Extractor",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/extractors/movieextractor.js",
    "importStyle": "Extractor",
    "description": "Class for extracting movies from torrents.",
    "lineNumber": 11,
    "interface": false,
    "extends": [
      "src/providers/extractors/baseextractor.js~BaseExtractor"
    ]
  },
  {
    "__docId__": 159,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#constructor",
    "access": null,
    "description": "Create an extractor object for movie content.",
    "lineNumber": 19,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "contentProvider",
        "description": "The content provider to extract content from."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 160,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_helper",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_helper",
    "access": null,
    "description": "The helper object for adding movies.",
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "Helper"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 161,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 32,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 162,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getMovie",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_getMovie",
    "access": null,
    "description": "Get all the movies.",
    "lineNumber": 40,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - A movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "movie",
        "description": "The movie information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A movie."
    },
    "generator": false
  },
  {
    "__docId__": 163,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_extractMovie",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_extractMovie",
    "access": null,
    "description": "Extract movie information based on a regex.",
    "lineNumber": 56,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about a movie from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "The torrent to extract the movie information from."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "language",
        "description": "The language of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "Regex"
        ],
        "spread": false,
        "optional": false,
        "name": "regex",
        "description": "The regex to extract the movie information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about a movie from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 164,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getMovieData",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_getMovieData",
    "access": null,
    "description": "Get movie info from a given torrent.",
    "lineNumber": 98,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about a movie from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "A torrent object to extract movie information from."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "language",
        "description": "The language of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about a movie from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 165,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getAllMovies",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#_getAllMovies",
    "access": null,
    "description": "Puts all the found movies from the torrents in an array.",
    "lineNumber": 119,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array} - A list of objects with movie information extracted from the torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "torrents",
        "description": "A list of torrents to extract movie information."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "language",
        "description": "The language of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "A list of objects with movie information extracted from the torrents."
    },
    "generator": false
  },
  {
    "__docId__": 166,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/extractors/movieextractor.js~Extractor",
    "longname": "src/providers/extractors/movieextractor.js~Extractor#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 157,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} - A list of scraped movies."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query content provider."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 167,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/extractors/showextractor.js",
    "memberof": null,
    "longname": "src/providers/extractors/showextractor.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport BaseExtractor from \"./baseextractor\";\nimport Helper from \"../helpers/showhelper\";\nimport Util from \"../../util\";\nimport { maxWebRequest, showMap } from \"../../config/constants\";\n\n/** Class for extracting TV shows from torrents. */\nexport default class Extractor extends BaseExtractor {\n\n   /**\n    * Create an extratorrent object for show content.\n    * @param {String} name - The name of the content provider.\n    * @param {Object} contentProvider - The content provider to extract content from.\n    * @param {?Boolean} debug - Debug mode for extra output.\n    */\n  constructor(name, contentProvider, debug) {\n    super(name, contentProvider);\n\n    /**\n     * The helper object for adding shows.\n     * @type {Helper}\n     */\n    this._helper = new Helper(this.name);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Get all the shows.\n   * @param {Object} show - The show information.\n   * @returns {Show} - A show.\n   */\n  async getShow(show) {\n    try {\n      const newShow = await this._helper.getTraktInfo(show.slug);\n      if (newShow && newShow._id) {\n        delete show.episodes[0];\n        return await this._helper.addEpisodes(newShow, show.episodes, show.slug);\n      }\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Extract show information based on a regex.\n   * @param {Object} torrent - The torrent to extract the show information from.\n   * @param {Regex} regex - The regex to extract the show information.\n   * @param {Boolean} dateBased - Check for dateBased episodes.\n   * @returns {Object} - Information about a show from the torrent.\n   */\n  _extractShow(torrent, regex, dateBased) {\n    let showTitle = torrent.title.match(regex)[1];\n    if (showTitle.endsWith(\" \")) showTitle = showTitle.substring(0, showTitle.length - 1);\n    showTitle = showTitle.replace(/\\./g, \" \");\n    let slug = showTitle.replace(/[^a-zA-Z0-9 ]/gi, \"\").replace(/\\s+/g, \"-\").toLowerCase();\n    if (slug.endsWith(\"-\")) slug = slug.substring(0, slug.length - 1);\n    slug = slug in showMap ? showMap[slug] : slug;\n    let season = torrent.title.match(regex)[2];\n    let episode = torrent.title.match(regex)[3];\n    if (!dateBased) {\n      season = parseInt(season, 10);\n      episode = parseInt(episode, 10);\n    }\n    const quality = torrent.title.match(/(\\d{3,4})p/) !== null ? torrent.title.match(/(\\d{3,4})p/)[0] : \"480p\";\n\n    const episodeTorrent = {\n      url: torrent.magnet ? torrent.magnet : torrent.torrent_link,\n      seeds: torrent.seeds ? torrent.seeds : 0,\n      peers: torrent.peers ? torrent.peers : 0,\n      provider: this.name\n    };\n\n    const show = {\n      showTitle,\n      slug,\n      torrentLink: torrent.link,\n      season,\n      episode,\n      quality,\n      dateBased\n    };\n    show.episodes = {};\n\n    if (!show.episodes[season]) show.episodes[season] = {};\n    if (!show.episodes[season][episode]) show.episodes[season][episode] = {};\n    if ((!show.episodes[season][episode][quality] || show.showTitle.toLowerCase().indexOf(\"repack\") > -1) || (show.episodes[season][episode][quality] && show.episodes[season][episode][quality].seeds < episodeTorrent.seeds))\n      show.episodes[season][episode][quality] = episodeTorrent;\n\n    return show;\n  };\n\n  /**\n   * Get show info from a given torrent.\n   * @param {Object} torrent - A torrent object to extract show information from.\n   * @returns {Object} - Information about a show from the torrent.\n   */\n  _getShowData(torrent) {\n    const seasonBased = /(.*).[sS](\\d{2})[eE](\\d{2})/i;\n    const vtv = /(.*).(\\d{1,2})[x](\\d{2})/i;\n    const dateBased = /(.*).(\\d{4}).(\\d{2}.\\d{2})/i;\n    if (torrent.title.match(seasonBased)) {\n      return this._extractShow(torrent, seasonBased, false);\n    } else if (torrent.title.match(vtv)) {\n      return this._extractShow(torrent, vtv, false);\n    } else if (torrent.title.match(dateBased)) {\n      return this._extractShow(torrent, dateBased, true);\n    } else {\n      logger.warn(`${this.name}: Could not find data from torrent: '${torrent.title}'`);\n    }\n  };\n\n  /**\n   * Puts all the found shows from the torrents in an array.\n   * @param {Array} torrents - A list of torrents to extract show information.\n   * @returns {Array} - A list of objects with show information extracted from the torrents.\n   */\n  async _getAllShows(torrents) {\n    try {\n      const shows = [];\n\n      await asyncq.mapSeries(torrents, torrent => {\n        if (torrent) {\n          const show = this._getShowData(torrent);\n          if (show) {\n            if (shows.length != 0) {\n              const { showTitle, slug, season, episode, quality } = show;\n              const matching = shows\n                .filter(s => s.showTitle === showTitle)\n                .filter(s => s.slug === slug);\n\n              if (matching.length != 0) {\n                const index = shows.indexOf(matching[0]);\n                if (!matching[0].episodes[season]) matching[0].episodes[season] = {};\n                if (!matching[0].episodes[season][episode]) matching[0].episodes[season][episode] = {};\n                if ((!matching[0].episodes[season][episode][quality] || matching[0].showTitle.toLowerCase().indexOf(\"repack\") > -1) || (matching[0].episodes[season][episode][quality] && matching[0].episodes[season][episode][quality].seeds < show.episodes[season][episode][quality].seeds))\n                  matching[0].episodes[season][episode][quality] = show.episodes[season][episode][quality];\n\n                shows.splice(index, 1, matching[0]);\n              } else {\n                shows.push(show);\n              }\n            } else {\n              shows.push(show);\n            }\n          }\n        }\n      });\n\n      return shows;\n    } catch (err) {\n      this._util.onError(err);\n    }\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query the content provider.\n   * @returns {Show[]} - A list of scraped shows.\n   */\n  async search(provider) {\n    try {\n      const getTotalPages = await this._contentProvider.search(provider.query);\n      const totalPages = getTotalPages.total_pages; // Change to 'const' for production.\n      if (!totalPages) return this._util.onError(`${this.name}: total_pages returned; '${totalPages}'`);\n      // totalPages = 3; // For testing purposes only.\n      logger.info(`${this.name}: Total pages ${totalPages}`);\n\n      const torrents = await this._getAllTorrents(totalPages, provider);\n      const shows = await this._getAllShows(torrents);\n      return await asyncq.mapLimit(shows, maxWebRequest, show => this.getShow(show));\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 168,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Extractor",
    "memberof": "src/providers/extractors/showextractor.js",
    "longname": "src/providers/extractors/showextractor.js~Extractor",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/extractors/showextractor.js",
    "importStyle": "Extractor",
    "description": "Class for extracting TV shows from torrents.",
    "lineNumber": 10,
    "interface": false,
    "extends": [
      "src/providers/extractors/baseextractor.js~BaseExtractor"
    ]
  },
  {
    "__docId__": 169,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#constructor",
    "access": null,
    "description": "Create an extratorrent object for show content.",
    "lineNumber": 18,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "contentProvider",
        "description": "The content provider to extract content from."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 170,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_helper",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#_helper",
    "access": null,
    "description": "The helper object for adding shows.",
    "lineNumber": 25,
    "type": {
      "nullable": null,
      "types": [
        "Helper"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 171,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 31,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 172,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getShow",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#getShow",
    "access": null,
    "description": "Get all the shows.",
    "lineNumber": 39,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A show."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A show."
    },
    "generator": false
  },
  {
    "__docId__": 173,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_extractShow",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#_extractShow",
    "access": null,
    "description": "Extract show information based on a regex.",
    "lineNumber": 58,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about a show from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "The torrent to extract the show information from."
      },
      {
        "nullable": null,
        "types": [
          "Regex"
        ],
        "spread": false,
        "optional": false,
        "name": "regex",
        "description": "The regex to extract the show information."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "dateBased",
        "description": "Check for dateBased episodes."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about a show from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 174,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getShowData",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#_getShowData",
    "access": null,
    "description": "Get show info from a given torrent.",
    "lineNumber": 104,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Information about a show from the torrent."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrent",
        "description": "A torrent object to extract show information from."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Information about a show from the torrent."
    },
    "generator": false
  },
  {
    "__docId__": 175,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getAllShows",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#_getAllShows",
    "access": null,
    "description": "Puts all the found shows from the torrents in an array.",
    "lineNumber": 124,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array} - A list of objects with show information extracted from the torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Array"
        ],
        "spread": false,
        "optional": false,
        "name": "torrents",
        "description": "A list of torrents to extract show information."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "A list of objects with show information extracted from the torrents."
    },
    "generator": false
  },
  {
    "__docId__": 176,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/extractors/showextractor.js~Extractor",
    "longname": "src/providers/extractors/showextractor.js~Extractor#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 167,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} - A list of scraped shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query the content provider."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 177,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/helpers/animehelper.js",
    "memberof": null,
    "longname": "src/providers/helpers/animehelper.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport HummingbirdAPI from \"hummingbird-api\";\n\nimport Anime from \"../../models/Anime\";\nimport Util from \"../../util\";\n\n/** class for saving anime shows. */\nexport default class Helper {\n\n  /**\n   * Create an helper object for anime content.\n   * @param {String} name - The name of the content provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * A configured HummingBird API.\n     * @type {HummingbirdAPI}\n     * @see https://github.com/ChrisAlderson/hummingbird-api\n     */\n    this._hummingbird = new HummingbirdAPI({ debug });\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Update the number of seasons of a given anime.\n   * @param {Anime} anime - The anime to update the number of seasons.\n   * @returns {Anime} - A newly updated anime.\n   */\n  async _updateNumSeasons(anime) {\n    const saved = await Anime.findOneAndUpdate({\n      _id: anime._id\n    }, anime, {\n      new: true,\n      upsert: true\n    }).exec();\n\n    const distinct = await Anime.distinct(\"episodes.season\", {\n      _id: saved._id\n    }).exec();\n    saved.num_seasons = distinct.length;\n\n    return await Anime.findOneAndUpdate({\n      _id: saved._id\n    }, saved, {\n      new: true,\n      upsert: true\n    }).exec();\n  };\n\n  /**\n   * Update the torrents for an existing anime.\n   * @param {Object} matching - The matching episode of new the anime.\n   * @param {Object} found - The matching episode existing anime.\n   * @param {Anime} anime - The anime to merge the episodes to.\n   * @param {String} quality - The quality of the torrent.\n   * @returns {Anime} - An anime with merged torrents.\n   */\n  _updateEpisode(matching, found, anime, quality) {\n    const index = anime.episodes.indexOf(matching);\n\n    if (found.torrents[quality] && matching.torrents[quality]) {\n      let update = false;\n\n      if (found.torrents[quality].seeds > matching.torrents[quality].seeds) {\n        update = true;\n      } else if (matching.torrents[quality].seeds > found.torrents[quality].seeds) {\n        update = false;\n      } else if (found.torrents[quality].url === matching.torrents[quality].url) {\n        update = true;\n      }\n\n      if (update) {\n        if (quality === \"480p\") matching.torrents[\"0\"] = found.torrents[quality];\n        matching.torrents[quality] = found.torrents[quality];\n      }\n    } else if (found.torrents[quality] && !matching.torrents[quality]) {\n      if (quality === \"480p\") matching.torrents[\"0\"] = found.torrents[quality];\n      matching.torrents[quality] = found.torrents[quality];\n    }\n\n    anime.episodes.splice(index, 1, matching);\n    return anime;\n  };\n\n  /**\n   * Update a given anime with it's associated episodes.\n   * @param {Anime} anime - The anime to update its episodes.\n   * @returns {Anime} - A newly updated anime.\n   */\n  async _updateEpisodes(anime) {\n    try {\n      const found = await Anime.findOne({\n        _id: anime._id\n      }).exec();\n      if (found) {\n        logger.info(`${this.name}: '${found.title}' is an existing anime.`);\n        for (let i = 0; i < found.episodes.length; i++) {\n          let matching = anime.episodes\n            .filter(animeEpisode => animeEpisode.episode === found.episodes[i].episode);\n\n          if (matching.length != 0) {\n            anime = this._updateEpisode(matching[0], found.episodes[i], anime, \"480p\");\n            anime = this._updateEpisode(matching[0], found.episodes[i], anime, \"720p\");\n            anime = this._updateEpisode(matching[0], found.episodes[i], anime, \"1080p\");\n          } else {\n            anime.episodes.push(found.episodes[i]);\n          }\n        }\n\n        return await this._updateNumSeasons(anime);\n      } else {\n        logger.info(`${this.name}: '${anime.title}' is a new anime!`);\n        const newAnime = await new Anime(anime).save();\n        return await this._updateNumSeasons(newAnime);\n      }\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Adds one season to a anime.\n   * @param {Anime} anime - The anime to add the torrents to.\n   * @param {Object} episodes - The episodes containing the torrents.\n   * @param {Integer} seasonNumber - The season number.\n   * @param {String} slug - The slug of the anime.\n   */\n  async _addSeason(anime, episodes, seasonNumber, slug) {\n    try {\n      await asyncq.each(Object.keys(episodes[seasonNumber]), episodeNumber => {\n        const episode = {\n          title: `Episode ${episodeNumber}`,\n          torrents: {},\n          season: seasonNumber,\n          episode: episodeNumber,\n          overview: `We still don't have single episode overviews for anime… Sorry`,\n          tvdb_id: `${anime._id}-1-${episodeNumber}`\n        };\n\n        episode.torrents = episodes[seasonNumber][episodeNumber];\n        episode.torrents[0] = episodes[seasonNumber][episodeNumber][\"480p\"] ? episodes[seasonNumber][episodeNumber][\"480p\"] : episodes[seasonNumber][episodeNumber][\"720p\"];\n        anime.episodes.push(episode);\n      });\n    } catch (err) {\n      return this._util.onError(`Hummingbird: Could not find any data on: ${err.path || err} with slug: '${slug}'`);\n    }\n  };\n\n  /**\n   * Get info from Hummingbird and make a new anime object.\n   * @param {String} slug - The slug to query https://hummingbird.me/.\n   * @returns {Anime} - A new anime without the episodes attached.\n   */\n  async getHummingbirdInfo(slug) {\n    try {\n      const hummingbirdAnime = await this._hummingbird.Anime.getAnime(slug);\n\n      let type;\n      if (hummingbirdAnime.show_type.match(/tv/i)) {\n        type = \"show\";\n      } else {\n        type = \"movie\";\n      }\n\n      const genres = hummingbirdAnime.genres.map(genre => genre.name);\n\n      if (hummingbirdAnime && hummingbirdAnime.id) {\n        return {\n          _id: hummingbirdAnime.id,\n          mal_id: hummingbirdAnime.mal_id,\n          title: hummingbirdAnime.title,\n          year: new Date(hummingbirdAnime.started_airing).getFullYear(),\n          slug: hummingbirdAnime.slug,\n          synopsis: hummingbirdAnime.synopsis,\n          runtime: hummingbirdAnime.episode_length,\n          status: hummingbirdAnime.status,\n          rating: {\n            hated: 100,\n            loved: 100,\n            votes: 0,\n            watching: 0,\n            percentage: (Math.round(hummingbirdAnime.community_rating * 10)) * 2\n          },\n          type,\n          num_seasons: 0,\n          last_updated: Number(new Date()),\n          images: {\n            banner: hummingbirdAnime.cover_image !== null ? hummingbirdAnime.cover_image : \"images/posterholder.png\",\n            fanart: hummingbirdAnime.cover_image !== null ? hummingbirdAnime.cover_image : \"images/posterholder.png\",\n            poster: hummingbirdAnime.cover_image !== null ? hummingbirdAnime.cover_image : \"images/posterholder.png\"\n          },\n          genres: genres !== null ? genres : [\"unknown\"],\n          episodes: []\n        };\n      }\n    } catch (err) {\n      return this._util.onError(`Hummingbird: Could not find any data on: ${err.path || err} with slug: '${slug}'`);\n    }\n  };\n\n  /**\n   * Adds episodes to a anime.\n   * @param {Show} anime - The anime to add the torrents to.\n   * @param {Object} episodes - The episodes containing the torrents.\n   * @param {String} slug - The slug of the anime.\n   * @returns {Anime} - A anime with updated torrents.\n   */\n  async addEpisodes(anime, episodes, slug) {\n    try {\n      await asyncq.each(Object.keys(episodes), seasonNumber => this._addSeason(anime, episodes, seasonNumber, slug));\n      return await this._updateEpisodes(anime);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 178,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Helper",
    "memberof": "src/providers/helpers/animehelper.js",
    "longname": "src/providers/helpers/animehelper.js~Helper",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/helpers/animehelper.js",
    "importStyle": "Helper",
    "description": "class for saving anime shows.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 179,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#constructor",
    "access": null,
    "description": "Create an helper object for anime content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 180,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 181,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_hummingbird",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_hummingbird",
    "access": null,
    "description": "A configured HummingBird API.",
    "see": [
      "https://github.com/ChrisAlderson/hummingbird-api"
    ],
    "lineNumber": 28,
    "type": {
      "nullable": null,
      "types": [
        "HummingbirdAPI"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 182,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 34,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 183,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateNumSeasons",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_updateNumSeasons",
    "access": null,
    "description": "Update the number of seasons of a given anime.",
    "lineNumber": 42,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - A newly updated anime."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Anime"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime to update the number of seasons."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "A newly updated anime."
    },
    "generator": false
  },
  {
    "__docId__": 184,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateEpisode",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_updateEpisode",
    "access": null,
    "description": "Update the torrents for an existing anime.",
    "lineNumber": 71,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - An anime with merged torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "matching",
        "description": "The matching episode of new the anime."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "found",
        "description": "The matching episode existing anime."
      },
      {
        "nullable": null,
        "types": [
          "Anime"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime to merge the episodes to."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "quality",
        "description": "The quality of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "An anime with merged torrents."
    },
    "generator": false
  },
  {
    "__docId__": 185,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateEpisodes",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_updateEpisodes",
    "access": null,
    "description": "Update a given anime with it's associated episodes.",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - A newly updated anime."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Anime"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime to update its episodes."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "A newly updated anime."
    },
    "generator": false
  },
  {
    "__docId__": 186,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_addSeason",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#_addSeason",
    "access": null,
    "description": "Adds one season to a anime.",
    "lineNumber": 141,
    "params": [
      {
        "nullable": null,
        "types": [
          "Anime"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "episodes",
        "description": "The episodes containing the torrents."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "seasonNumber",
        "description": "The season number."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug of the anime."
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 187,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getHummingbirdInfo",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#getHummingbirdInfo",
    "access": null,
    "description": "Get info from Hummingbird and make a new anime object.",
    "lineNumber": 167,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - A new anime without the episodes attached."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug to query https://hummingbird.me/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "A new anime without the episodes attached."
    },
    "generator": false
  },
  {
    "__docId__": 188,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "addEpisodes",
    "memberof": "src/providers/helpers/animehelper.js~Helper",
    "longname": "src/providers/helpers/animehelper.js~Helper#addEpisodes",
    "access": null,
    "description": "Adds episodes to a anime.",
    "lineNumber": 221,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime} - A anime with updated torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "anime",
        "description": "The anime to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "episodes",
        "description": "The episodes containing the torrents."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug of the anime."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Anime"
      ],
      "spread": false,
      "description": "A anime with updated torrents."
    },
    "generator": false
  },
  {
    "__docId__": 189,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/helpers/moviehelper.js",
    "memberof": null,
    "longname": "src/providers/helpers/moviehelper.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport Movie from \"../../models/Movie\";\nimport Util from \"../../util\";\nimport { fanart, omdb, trakt } from \"../../config/constants\";\n\n/** Class for saving movies. */\nexport default class Helper {\n\n  /**\n   * Create an helper object for movie content.\n   * @param {String} name - The name of the content provider.\n   */\n  constructor(name) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Update the torrents for an existing movie.\n   * @param {Movie} movie - The new movie.\n   * @param {Movie} found - The existing movie.\n   * @param {String} language - The language of the torrent.\n   * @param {String} quality - The quality of the torrent.\n   * @return {Movie} - A movie with merged torrents.\n   */\n  _updateTorrent(movie, found, language, quality) {\n    let update = false;\n\n    if (found.torrents[language] && movie.torrents[language]) {\n      if (found.torrents[language][quality] && movie.torrents[language][quality]) {\n        if (found.torrents[language][quality].seed > movie.torrents[language][quality].seed) {\n          update = true;\n        } else if (movie.torrents[language][quality].seed > found.torrents[language][quality].seed) {\n          update = false;\n        } else if (found.torrents[language][quality].url === movie.torrents[language][quality].url) {\n          update = true;\n        }\n      } else if (found.torrents[language][quality] && !movie.torrents[language][quality]) {\n        update = true;\n      }\n    } else if (found.torrents[language] && !movie.torrents[language]) {\n      if (found.torrents[language][quality]) {\n        movie.torrents[language] = {};\n        update = true;\n      }\n    }\n\n    if (update) movie.torrents[language][quality] = found.torrents[language][quality];\n    return movie;\n  };\n\n  /**\n   * @description Update a given movie.\n   * @function Helper#updateMovie\n   * @memberof module:providers/movie/helper\n   * @param {Movie} movie - The movie to update its torrent.\n   * @returns {Movie} - A newly updated movie.\n   */\n  async _updateMovie(movie) {\n    try {\n      const found = await Movie.findOne({\n        _id: movie._id\n      }).exec();\n      if (found) {\n        logger.info(`${this.name}: '${found.title}' is an existing movie.`);\n\n        if (found.torrents) {\n          Object.keys(found.torrents).forEach(language => {\n            movie = this._updateTorrent(movie, found, language, \"720p\");\n            movie = this._updateTorrent(movie, found, language, \"1080p\");\n          });\n        }\n\n        return await Movie.findOneAndUpdate({\n          _id: movie._id\n        }, movie).exec();\n      } else {\n        logger.info(`${this.name}: '${movie.title}' is a new movie!`);\n        return await new Movie(movie).save();\n      }\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Adds torrents to a movie.\n   * @param {Movie} movie - The movie to add the torrents to.\n   * @param {Object} torrents - The torrents to add to the movie.\n   * @returns {Movie} - A movie with torrents attached.\n   */\n  addTorrents(movie, torrents) {\n    return asyncq.each(Object.keys(torrents), torrent => movie.torrents[torrent] = torrents[torrent])\n      .then(() => this._updateMovie(movie));\n  };\n\n  /**\n   * Get images from themoviedb.org or omdbapi.com.\n   * @param {Integer} tmdb_id - The tmdb id of the movie you want the images from.\n   * @param {Integer} imdb_id - The imdb id of the movie you want the images from.\n   * @returns {Object} - Object with a banner, fanart and poster images.\n   */\n  async _getImages(tmdb_id, imdb_id) {\n    const holder = \"images/posterholder.png\"\n    const images = {\n      banner: holder,\n      fanart: holder,\n      poster: holder\n    };\n\n    try {\n      const fanartImages = await fanart.getMovieImages(tmdb_id);\n      images.banner = fanartImages.moviebanner ? fanartImages.moviebanner[0].url : holder;\n      images.fanart = fanartImages.moviebackground ? fanartImages.moviebackground[0].url : fanartImages.hdmovieclearart ? fanartImages.hdmovieclearart[0].url : holder;\n      images.poster = fanartImages.movieposter ? fanartImages.movieposter[0].url : holder;\n    } catch (err) {\n      try {\n        const omdbImages = await omdb.byID({\n          imdb: imdb_id,\n          type: \"movie\"\n        });\n        images.banner = omdbImages.Poster ? omdbImages.Poster : holder;\n        images.fanart = omdbImages.Poster? omdbImages.Poster : holder;\n        images.poster = omdbImages.Poster ? omdbImages.Poster : holder;\n      } catch (err) {\n        return this._util.onError(`Images: Could not find images on: ${err.path || err} with id: '${tmdb_id || imdb_id}'`);\n      }\n    }\n\n    return images;\n  }\n\n  /**\n   * Get info from Trakt and make a new movie object.\n   * @param {String} slug - The slug to query trakt.tv.\n   * @returns {Movie} - A new movie.\n   */\n  async getTraktInfo(slug) {\n    try {\n      const traktMovie = await trakt.movies.summary({\n        id: slug,\n        extended: \"full\"\n      });\n      const traktWatchers = await trakt.movies.watching({id: slug});\n\n      let watching = 0;\n      if (traktWatchers !== null) watching = traktWatchers.length;\n\n      if (traktMovie && traktMovie.ids[\"imdb\"] && traktMovie.ids[\"tmdb\"]) {\n        return {\n          _id: traktMovie.ids[\"imdb\"],\n          imdb_id: traktMovie.ids[\"imdb\"],\n          title: traktMovie.title,\n          year: traktMovie.year,\n          slug: traktMovie.ids[\"slug\"],\n          synopsis: traktMovie.overview,\n          runtime: traktMovie.runtime,\n          rating: {\n            hated: 100,\n            loved: 100,\n            votes: traktMovie.votes,\n            watching: watching,\n            percentage: Math.round(traktMovie.rating * 10)\n          },\n          country: traktMovie.language,\n          last_updated: Number(new Date()),\n          images: await this._getImages(traktMovie.ids[\"tmdb\"], traktMovie.ids[\"imdb\"]),\n          genres: traktMovie.genres !== null ? traktMovie.genres : [\"unknown\"],\n          released: new Date(traktMovie.released).getTime() / 1000.0,\n          trailer: traktMovie.trailer || false,\n          certification: traktMovie.certification,\n          torrents: {}\n        };\n      }\n    } catch (err) {\n      return this._util.onError(`Trakt: Could not find any data on: ${err.path || err} with slug: '${slug}'`);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 190,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Helper",
    "memberof": "src/providers/helpers/moviehelper.js",
    "longname": "src/providers/helpers/moviehelper.js~Helper",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/helpers/moviehelper.js",
    "importStyle": "Helper",
    "description": "Class for saving movies.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 191,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#constructor",
    "access": null,
    "description": "Create an helper object for movie content.",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 192,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 20,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 193,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 194,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateTorrent",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#_updateTorrent",
    "access": null,
    "description": "Update the torrents for an existing movie.",
    "lineNumber": 37,
    "params": [
      {
        "nullable": null,
        "types": [
          "Movie"
        ],
        "spread": false,
        "optional": false,
        "name": "movie",
        "description": "The new movie."
      },
      {
        "nullable": null,
        "types": [
          "Movie"
        ],
        "spread": false,
        "optional": false,
        "name": "found",
        "description": "The existing movie."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "language",
        "description": "The language of the torrent."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "quality",
        "description": "The quality of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A movie with merged torrents."
    },
    "generator": false
  },
  {
    "__docId__": 195,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateMovie",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#_updateMovie",
    "access": null,
    "description": "",
    "lineNumber": 70,
    "unknown": [
      {
        "tagName": "@description",
        "tagValue": "Update a given movie."
      },
      {
        "tagName": "@function",
        "tagValue": "Helper#updateMovie"
      },
      {
        "tagName": "@memberof",
        "tagValue": "module:providers/movie/helper"
      },
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - A newly updated movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Movie"
        ],
        "spread": false,
        "optional": false,
        "name": "movie",
        "description": "The movie to update its torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A newly updated movie."
    },
    "generator": false
  },
  {
    "__docId__": 196,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "addTorrents",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#addTorrents",
    "access": null,
    "description": "Adds torrents to a movie.",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - A movie with torrents attached."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Movie"
        ],
        "spread": false,
        "optional": false,
        "name": "movie",
        "description": "The movie to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "torrents",
        "description": "The torrents to add to the movie."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A movie with torrents attached."
    },
    "generator": false
  },
  {
    "__docId__": 197,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getImages",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#_getImages",
    "access": null,
    "description": "Get images from themoviedb.org or omdbapi.com.",
    "lineNumber": 114,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Object with a banner, fanart and poster images."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "tmdb_id",
        "description": "The tmdb id of the movie you want the images from."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "imdb_id",
        "description": "The imdb id of the movie you want the images from."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Object with a banner, fanart and poster images."
    },
    "generator": false
  },
  {
    "__docId__": 198,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getTraktInfo",
    "memberof": "src/providers/helpers/moviehelper.js~Helper",
    "longname": "src/providers/helpers/moviehelper.js~Helper#getTraktInfo",
    "access": null,
    "description": "Get info from Trakt and make a new movie object.",
    "lineNumber": 149,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie} - A new movie."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug to query trakt.tv."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie"
      ],
      "spread": false,
      "description": "A new movie."
    },
    "generator": false
  },
  {
    "__docId__": 199,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/helpers/showhelper.js",
    "memberof": null,
    "longname": "src/providers/helpers/showhelper.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport Show from \"../../models/Show\";\nimport Util from \"../../util\";\nimport { fanart, trakt, tvdb } from \"../../config/constants\";\n\n/** Class for saving shows. */\nexport default class Helper {\n\n  /**\n   * Create an helper object for show content.\n   * @param {String} name - The name of the content provider.\n   */\n  constructor(name) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Update the number of seasons of a given show.\n   * @param {Show} show - The show to update the number of seasons.\n   * @returns {Show} - A newly updated show.\n   */\n  async _updateNumSeasons(show) {\n    const saved = await Show.findOneAndUpdate({\n      _id: show._id\n    }, show, {\n      new: true,\n      upsert: true\n    }).exec();\n\n    const distinct = await Show.distinct(\"episodes.season\", {\n      _id: saved._id\n    }).exec();\n    saved.num_seasons = distinct.length;\n\n    return await Show.findOneAndUpdate({\n      _id: saved._id\n    }, saved, {\n      new: true,\n      upsert: true\n    }).exec();\n  };\n\n  /**\n   * Update the torrents for an existing show.\n   * @param {Object} matching - The matching episode of new the show.\n   * @param {Object} found - The matching episode existing show.\n   * @param {Show} show - The show to merge the episodes to.\n   * @param {String} quality - The quality of the torrent.\n   * @returns {Show} - A show with merged torrents.\n   */\n  _updateEpisode(matching, found, show, quality) {\n    const index = show.episodes.indexOf(matching);\n\n    if (found.torrents[quality] && matching.torrents[quality]) {\n      let update = false;\n\n      if (found.torrents[quality].seeds > matching.torrents[quality].seeds) {\n        update = true;\n      } else if (matching.torrents[quality].seeds > found.torrents[quality].seeds) {\n        update = false;\n      } else if (found.torrents[quality].url === matching.torrents[quality].url) {\n        update = true;\n      }\n\n      if (update) {\n        if (quality === \"480p\") matching.torrents[\"0\"] = found.torrents[quality];\n        matching.torrents[quality] = found.torrents[quality];\n      }\n    } else if (found.torrents[quality] && !matching.torrents[quality]) {\n      if (quality === \"480p\") matching.torrents[\"0\"] = found.torrents[quality];\n      matching.torrents[quality] = found.torrents[quality];\n    }\n\n    show.episodes.splice(index, 1, matching);\n    return show;\n  };\n\n  /**\n   * Update a given show with it's associated episodes.\n   * @param {Show} show - The show to update its episodes.\n   * @returns {Show} - A newly updated show.\n   */\n  async _updateEpisodes(show) {\n    try {\n      const found = await Show.findOne({\n        _id: show._id\n      }).exec();\n      if (found) {\n        logger.info(`${this.name}: '${found.title}' is an existing show.`);\n        for (let i = 0; i < found.episodes.length; i++) {\n          let matching = show.episodes\n            .filter(showEpisode => showEpisode.season === found.episodes[i].season)\n            .filter(showEpisode => showEpisode.episode === found.episodes[i].episode);\n\n            if (found.episodes[i].first_aired > show.latest_episode) show.latest_episode = found.episodes[i].first_aired;\n\n          if (matching.length != 0) {\n            show = this._updateEpisode(matching[0], found.episodes[i], show, \"480p\");\n            show = this._updateEpisode(matching[0], found.episodes[i], show, \"720p\");\n            show = this._updateEpisode(matching[0], found.episodes[i], show, \"1080p\");\n          } else {\n            show.episodes.push(found.episodes[i]);\n          }\n        }\n\n        return await this._updateNumSeasons(show);\n      } else {\n        logger.info(`${this.name}: '${show.title}' is a new show!`);\n        const newShow = await new Show(show).save();\n        return await this._updateNumSeasons(newShow);\n      }\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Adds one seasonal season to a show.\n   * @param {Show} show - The show to add the torrents to.\n   * @param {Object} episodes - The episodes containing the torrents.\n   * @param {Integer} seasonNumber - The season number.\n   * @param {String} slug - The slug of the show.\n   */\n  async _addSeasonalSeason(show, episodes, seasonNumber, slug) {\n    try {\n      seasonNumber = parseInt(seasonNumber);\n      const season = await trakt.seasons.season({\n        id: slug,\n        season: seasonNumber,\n        extended: \"full\"\n      });\n\n      for (let episodeData in season) {\n        episodeData = season[episodeData];\n        if (episodes[seasonNumber] && episodes[seasonNumber][episodeData.number]) {\n          const episode = {\n            tvdb_id: episodeData.ids[\"tvdb\"],\n            season: episodeData.season,\n            episode: episodeData.number,\n            title: episodeData.title,\n            overview: episodeData.overview,\n            date_based: false,\n            first_aired: new Date(episodeData.first_aired).getTime() / 1000.0,\n            watched: {\n              watched: false\n            },\n            torrents: {}\n          };\n\n          if (episode.first_aired > show.latest_episode) show.latest_episode = episode.first_aired;\n\n          episode.torrents = episodes[seasonNumber][episodeData.number];\n          episode.torrents[0] = episodes[seasonNumber][episodeData.number][\"480p\"] ? episodes[seasonNumber][episodeData.number][\"480p\"] : episodes[seasonNumber][episodeData.number][\"720p\"];\n          show.episodes.push(episode);\n        }\n      }\n    } catch (err) {\n      return this._util.onError(`Trakt: Could not find any data on: ${err.path || err} with slug: '${slug}'`);\n    }\n  };\n\n  /**\n   * Adds one datebased season to a show.\n   * @param {Show} show - The show to add the torrents to.\n   * @param {Object} episodes - The episodes containing the torrents.\n   * @param {Integer} seasonNumber - The season number.\n   * @param {String} slug - The slug of the show.\n   */\n  async _addDateBasedSeason(show, episodes, seasonNumber, slug) {\n    try {\n      if (show.tvdb_id) {\n        const tvdbShow = await tvdb.getSeriesAllById(show.tvdb_id);\n        for (let episodeData in tvdbShow.Episodes) {\n          episodeData = tvdbShow.Episodes[episodeData];\n\n          if (episodes[seasonNumber]) {\n            Object.keys(episodes[seasonNumber]).map(episodeNumber => {\n              if (`${seasonNumber}-${episodeNumber}` === episodeData.FirstAired) {\n                const episode = {\n                    tvdb_id: episodeData.id,\n                    season: episodeData.SeasonNumber,\n                    episode: episodeData.EpisodeNumber,\n                    title: episodeData.EpisodeName,\n                    overview: episodeData.Overview,\n                    date_based: true,\n                    first_aired: new Date(episodeData.FirstAired).getTime() / 1000.0,\n                    watched: {\n                      watched: false\n                    },\n                    torrents: {}\n                  };\n\n                  if (episode.first_aired > show.latest_episode) show.latest_episode = episode.first_aired;\n\n                  if (episode.season > 0) {\n                    episode.torrents = episodes[seasonNumber][episodeNumber];\n                    episode.torrents[0] = episodes[seasonNumber][episodeNumber][\"480p\"] ? episodes[seasonNumber][episodeNumber][\"480p\"] : episodes[seasonNumber][episodeNumber][\"720p\"];\n                    show.episodes.push(episode);\n                  }\n              }\n            });\n          }\n        }\n      }\n    } catch (err) {\n      return this._util.onError(`TVDB: Could not find any data on: ${err.path || err} with tvdb_id: '${show.tvdb_id}'`);\n    }\n  };\n\n  /**\n   * Get images from Fanart.tv on thetvdb.com.\n   * @param {Integer} tvdb_id - The tvdb id of the show you want the images from.\n   * @returns {Object} - Object with a banner, fanart and poster images.\n   */\n  async _getImages(tvdb_id) {\n    const holder = \"images/posterholder.png\"\n    const images = {\n      banner: holder,\n      fanart: holder,\n      poster: holder\n    };\n\n    try {\n      const fanartImages = await fanart.getShowImages(tvdb_id);\n      images.banner = fanartImages.tvbanner ? fanartImages.tvbanner[0].url : holder;\n      images.fanart = fanartImages.showbackground ? fanartImages.showbackground[0].url : fanartImages.clearart ? fanartImages.clearart[0].url : holder;\n      images.poster = fanartImages.tvposter ? fanartImages.tvposter[0].url : holder;\n    } catch (err) {\n      try {\n        const tvdbImages = await tvdb.getSeriesById(tvdb_id);\n        images.banner = tvdbImages.banner ? `http://thetvdb.com/banners/${tvdbImages.banner}` : holder;\n        images.fanart = tvdbImages.fanart? `http://thetvdb.com/banners/${tvdbImages.fanart}` : holder;\n        images.poster = tvdbImages.poster ? `http://thetvdb.com/banners/${tvdbImages.poster}` : holder;\n      } catch (err) {\n        return this._util.onError(`Images: Could not find images on: ${err.path || err} with tvdb_id: '${tvdb_id}'`);\n      }\n    }\n\n    return images;\n  }\n\n  /**\n   * Get info from Trakt and make a new show object.\n   * @param {String} slug - The slug to query https://trakt.tv/.\n   * @returns {Show} - A new show without the episodes attached.\n   */\n  async getTraktInfo(slug) {\n    try {\n      const traktShow = await trakt.shows.summary({\n        id: slug,\n        extended: \"full\"\n      });\n      const traktWatchers = await trakt.shows.watching({\n        id: slug\n      });\n\n      let watching = 0;\n      if (traktWatchers !== null) watching = traktWatchers.length;\n\n      if (traktShow && traktShow.ids[\"imdb\"] && traktShow.ids[\"tvdb\"]) {\n        return {\n          _id: traktShow.ids[\"imdb\"],\n          imdb_id: traktShow.ids[\"imdb\"],\n          tvdb_id: traktShow.ids[\"tvdb\"],\n          title: traktShow.title,\n          year: traktShow.year,\n          slug: traktShow.ids[\"slug\"],\n          synopsis: traktShow.overview,\n          runtime: traktShow.runtime,\n          rating: {\n            hated: 100,\n            loved: 100,\n            votes: traktShow.votes,\n            watching: watching,\n            percentage: Math.round(traktShow.rating * 10)\n          },\n          country: traktShow.country,\n          network: traktShow.network,\n          air_day: traktShow.airs.day,\n          air_time: traktShow.airs.time,\n          status: traktShow.status,\n          num_seasons: 0,\n          last_updated: Number(new Date()),\n          latest_episode: 0,\n          images: await this._getImages(traktShow.ids[\"tvdb\"]),\n          genres: traktShow.genres !== null ? traktShow.genres : [\"unknown\"],\n          episodes: []\n        };\n      }\n    } catch (err) {\n      return this._util.onError(`Trakt: Could not find any data on: ${err.path || err} with slug: '${slug}'`);\n    }\n  };\n\n  /**\n   * Adds episodes to a show.\n   * @param {Show} show - The show to add the torrents to.\n   * @param {Object} episodes - The episodes containing the torrents.\n   * @param {String} slug - The slug of the show.\n   * @returns {Show} - A show with updated torrents.\n   */\n  async addEpisodes(show, episodes, slug) {\n    try {\n      const dateBased = episodes.dateBased;\n      delete episodes.dateBased;\n\n      if (dateBased) {\n        await asyncq.each(Object.keys(episodes), seasonNumber => this._addDateBasedSeason(show, episodes, seasonNumber, slug));\n      } else {\n        await asyncq.each(Object.keys(episodes), seasonNumber => this._addSeasonalSeason(show, episodes, seasonNumber, slug));\n      }\n\n      return await this._updateEpisodes(show);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 200,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Helper",
    "memberof": "src/providers/helpers/showhelper.js",
    "longname": "src/providers/helpers/showhelper.js~Helper",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/helpers/showhelper.js",
    "importStyle": "Helper",
    "description": "Class for saving shows.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 201,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#constructor",
    "access": null,
    "description": "Create an helper object for show content.",
    "lineNumber": 15,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 202,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 20,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 203,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 26,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 204,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateNumSeasons",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_updateNumSeasons",
    "access": null,
    "description": "Update the number of seasons of a given show.",
    "lineNumber": 34,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A newly updated show."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to update the number of seasons."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A newly updated show."
    },
    "generator": false
  },
  {
    "__docId__": 205,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateEpisode",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_updateEpisode",
    "access": null,
    "description": "Update the torrents for an existing show.",
    "lineNumber": 63,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A show with merged torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "matching",
        "description": "The matching episode of new the show."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "found",
        "description": "The matching episode existing show."
      },
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to merge the episodes to."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "quality",
        "description": "The quality of the torrent."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A show with merged torrents."
    },
    "generator": false
  },
  {
    "__docId__": 206,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_updateEpisodes",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_updateEpisodes",
    "access": null,
    "description": "Update a given show with it's associated episodes.",
    "lineNumber": 95,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A newly updated show."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to update its episodes."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A newly updated show."
    },
    "generator": false
  },
  {
    "__docId__": 207,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_addSeasonalSeason",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_addSeasonalSeason",
    "access": null,
    "description": "Adds one seasonal season to a show.",
    "lineNumber": 136,
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "episodes",
        "description": "The episodes containing the torrents."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "seasonNumber",
        "description": "The season number."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug of the show."
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 208,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_addDateBasedSeason",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_addDateBasedSeason",
    "access": null,
    "description": "Adds one datebased season to a show.",
    "lineNumber": 181,
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "episodes",
        "description": "The episodes containing the torrents."
      },
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "seasonNumber",
        "description": "The season number."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug of the show."
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "generator": false
  },
  {
    "__docId__": 209,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getImages",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#_getImages",
    "access": null,
    "description": "Get images from Fanart.tv on thetvdb.com.",
    "lineNumber": 227,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - Object with a banner, fanart and poster images."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "tvdb_id",
        "description": "The tvdb id of the show you want the images from."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "Object with a banner, fanart and poster images."
    },
    "generator": false
  },
  {
    "__docId__": 210,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "getTraktInfo",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#getTraktInfo",
    "access": null,
    "description": "Get info from Trakt and make a new show object.",
    "lineNumber": 259,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A new show without the episodes attached."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug to query https://trakt.tv/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A new show without the episodes attached."
    },
    "generator": false
  },
  {
    "__docId__": 211,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "addEpisodes",
    "memberof": "src/providers/helpers/showhelper.js~Helper",
    "longname": "src/providers/helpers/showhelper.js~Helper#addEpisodes",
    "access": null,
    "description": "Adds episodes to a show.",
    "lineNumber": 314,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show} - A show with updated torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Show"
        ],
        "spread": false,
        "optional": false,
        "name": "show",
        "description": "The show to add the torrents to."
      },
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "episodes",
        "description": "The episodes containing the torrents."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "slug",
        "description": "The slug of the show."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show"
      ],
      "spread": false,
      "description": "A show with updated torrents."
    },
    "generator": false
  },
  {
    "__docId__": 212,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/movies/extratorrent.js",
    "memberof": null,
    "longname": "src/providers/movies/extratorrent.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport ExtraTorrentAPI from \"extratorrent-api\";\n\nimport Extractor from \"../extractors/movieextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping movies from https://extratorrent.cc/. */\nexport default class ExtraTorrent {\n\n  /**\n   * Create an extratorrent object for movie content.\n   * @param {String} name - The name of the content provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting movie data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new ExtraTorrentAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://extratorrent.cc/.\n   * @returns {Movie[]} - A list of scraped movies.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.category = \"movies\";\n      provider.query.page = 1;\n      provider.query.language = provider.query.language ? provider.query.language : \"en\";\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 213,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ExtraTorrent",
    "memberof": "src/providers/movies/extratorrent.js",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/movies/extratorrent.js",
    "importStyle": "ExtraTorrent",
    "description": "Class for scraping movies from https://extratorrent.cc/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 214,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent#constructor",
    "access": null,
    "description": "Create an extratorrent object for movie content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 215,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 216,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent#_extractor",
    "access": null,
    "description": "The extractor object for getting movie data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 217,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 218,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/movies/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/movies/extratorrent.js~ExtraTorrent#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} - A list of scraped movies."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://extratorrent.cc/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 219,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/movies/kat.js",
    "memberof": null,
    "longname": "src/providers/movies/kat.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport KatAPI from \"kat-api-pt\";\n\nimport Extractor from \"../extractors/movieextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping movies from https://kat.cr/. */\nexport default class KAT {\n\n  /**\n   * Create a kat object for movie content.\n   * @param {String} name - The name of the content provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting show data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new KatAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://kat.cr/.\n   * @returns {Movie[]} - A list of scraped movies.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.page = 1;\n      provider.query.verified = 1;\n      provider.query.adult_filter = 1;\n      provider.query.language = provider.query.language ? provider.query.language : \"en\";\n      provider.query.category = \"movies\";\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 220,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "KAT",
    "memberof": "src/providers/movies/kat.js",
    "longname": "src/providers/movies/kat.js~KAT",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/movies/kat.js",
    "importStyle": "KAT",
    "description": "Class for scraping movies from https://kat.cr/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 221,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/movies/kat.js~KAT",
    "longname": "src/providers/movies/kat.js~KAT#constructor",
    "access": null,
    "description": "Create a kat object for movie content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 222,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/movies/kat.js~KAT",
    "longname": "src/providers/movies/kat.js~KAT#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 223,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/movies/kat.js~KAT",
    "longname": "src/providers/movies/kat.js~KAT#_extractor",
    "access": null,
    "description": "The extractor object for getting show data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 224,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/movies/kat.js~KAT",
    "longname": "src/providers/movies/kat.js~KAT#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 225,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/movies/kat.js~KAT",
    "longname": "src/providers/movies/kat.js~KAT#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} - A list of scraped movies."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://kat.cr/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 226,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/movies/yts.js",
    "memberof": null,
    "longname": "src/providers/movies/yts.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport req from \"request\";\nimport Movie from \"../../models/Movie\";\nimport { maxWebRequest, webRequestTimeout } from \"../../config/constants\";\nimport Helper from \"../helpers/moviehelper\";\nimport Util from \"../../util\";\n\n/** Class for scraping movies from https://yts.ag/. */\nexport default class YTS {\n\n  /**\n   * Create a yts object for movie content.\n   * @param {String} name - The name of the content provider.\n   */\n  constructor(name) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The request object with added defaults.\n     * @type {Object}\n     */\n    this._request = req.defaults({\n      \"headers\": {\n        \"Content-Type\": \"application/json\"\n      },\n      \"baseUrl\": \"https://yts.ag/api/v2/list_movies.json\",\n      \"timeout\": webRequestTimeout * 1000\n    });\n\n    /**\n     * The helper object for adding movies.\n     * @type {Helper}\n     */\n    this._helper = new Helper(this.name);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Get the total pages to go through.\n   * @param {Boolean} [retry=true] - Retry the request.\n   * @returns {Promise} - The maximum pages to go through.\n   */\n  _getTotalPages(retry = true) {\n    const url = \"list_movies.json\";\n    return new Promise((resolve, reject) => {\n      this._request(url, (err, res, body) => {\n        if (err && retry) {\n          return resolve(this._getTotalPages(false));\n        } else if (err) {\n          return reject(`YTS: ${err} with link: 'list_movies.json'`);\n        } else if (!body || res.statusCode >= 400) {\n          return reject(`YTS: Could not find data on '${url}'.`);\n        } else {\n          body = JSON.parse(body);\n          const totalPages = Math.ceil(body.data.movie_count / 50);\n          return resolve(totalPages);\n        }\n      });\n    });\n  };\n\n  /**\n   * Format data from movies.\n   * @param {Object} data - Data about the movies.\n   * @returns {Object} - An object with the imdb id and the torrents.\n   */\n  _formatPage(data) {\n    return asyncq.each(data, movie => {\n      if (movie && movie.torrents && movie.imdb_code && movie.language.match(/english/i)) {\n        const torrents = {};\n        torrents[\"en\"] = {};\n        movie.torrents.forEach(torrent => {\n          if (torrent.quality !== \"3D\") {\n            torrents[\"en\"][torrent.quality] = {\n              url: `magnet:?xt=urn:btih:${torrent.hash}&tr=udp://glotorrents.pw:6969/announce&tr=udp://tracker.opentrackr.org:1337/announce&tr=udp://torrent.gresille.org:80/announce&tr=udp://tracker.openbittorrent.com:80&tr=udp://tracker.coppersurfer.tk:6969&tr=udp://tracker.leechers-paradise.org:6969&tr=udp://p4p.arenabg.ch:1337&tr=udp://tracker.internetwarriors.net:1337`,\n              seed: torrent.seeds,\n              peer: torrent.peers,\n              size: torrent.size_bytes,\n              filesize: torrent.size,\n              provider: \"YTS\"\n            };\n          }\n        });\n\n        return {\n          imdb_id: movie.imdb_code,\n          torrents\n        };\n      }\n    });\n  };\n\n  /**\n   * Get formatted data from one page.\n   * @param {Integer} page - The page to get the data from.\n   * @param {Boolean} [retry=true] - Retry the function.\n   * @returns {Promise} - Formatted data from one page.\n   */\n  _getOnePage(page, retry = true) {\n    const url = `?limit=50&page=${page + 1}`;\n    return new Promise((resolve, reject) => {\n      this._request(url, (err, res, body) => {\n        if (err && retry) {\n          return resolve(this._getOnePage(page, false));\n        } else if (err) {\n          return reject(`YTS: ${err} with link: '?limit=50&page=${page + 1}'`);\n        } else if (!body || res.statusCode >= 400) {\n          return reject(`YTS: Could not find data on '${url}'.`);\n        } else {\n          body = JSON.parse(body);\n          return resolve(this._formatPage(body.data.movies));\n        }\n      });\n    });\n  };\n\n  /**\n   * All the found movies.\n   * @returns {Array} - A list of all the found movies.\n   */\n  async _getMovies() {\n    try {\n      const totalPages = await this._getTotalPages(); // Change to 'const' for production.\n      if (!totalPages) return this._util.onError(`${this.name}: totalPages returned; '${totalPages}'`);\n      // totalPages = 3; // For testing purposes only.\n      let movies = [];\n      return await asyncq.timesSeries(totalPages, async page => {\n        try {\n          logger.info(`${this.name}: Starting searching YTS on page ${page + 1} out of ${totalPages}`);\n          const onePage = await this._getOnePage(page);\n          movies = movies.concat(onePage);\n        } catch (err) {\n          return this._util.onError(err);\n        }\n      }).then(() => movies);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @returns {Movie[]} - A list of scraped movies.\n   */\n  async search() {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      const movies = await this._getMovies();\n      return await asyncq.eachLimit(movies, maxWebRequest, async ytsMovie => {\n        if (ytsMovie && ytsMovie.imdb_id) {\n          const newMovie = await this._helper.getTraktInfo(ytsMovie.imdb_id);\n          if (newMovie && newMovie._id) {\n            delete ytsMovie.imdb_id;\n            return await this._helper.addTorrents(newMovie, ytsMovie.torrents);\n          }\n        }\n      });\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 227,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "YTS",
    "memberof": "src/providers/movies/yts.js",
    "longname": "src/providers/movies/yts.js~YTS",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/movies/yts.js",
    "importStyle": "YTS",
    "description": "Class for scraping movies from https://yts.ag/.",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 228,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#constructor",
    "access": null,
    "description": "Create a yts object for movie content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 229,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 230,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_request",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_request",
    "access": null,
    "description": "The request object with added defaults.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 231,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_helper",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_helper",
    "access": null,
    "description": "The helper object for adding movies.",
    "lineNumber": 39,
    "type": {
      "nullable": null,
      "types": [
        "Helper"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 232,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 45,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 233,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getTotalPages",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_getTotalPages",
    "access": null,
    "description": "Get the total pages to go through.",
    "lineNumber": 53,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - The maximum pages to go through."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "retry",
        "description": "Retry the request."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "The maximum pages to go through."
    },
    "generator": false
  },
  {
    "__docId__": 234,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_formatPage",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_formatPage",
    "access": null,
    "description": "Format data from movies.",
    "lineNumber": 77,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Object} - An object with the imdb id and the torrents."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "data",
        "description": "Data about the movies."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "An object with the imdb id and the torrents."
    },
    "generator": false
  },
  {
    "__docId__": 235,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getOnePage",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_getOnePage",
    "access": null,
    "description": "Get formatted data from one page.",
    "lineNumber": 109,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - Formatted data from one page."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Integer"
        ],
        "spread": false,
        "optional": false,
        "name": "page",
        "description": "The page to get the data from."
      },
      {
        "nullable": null,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "true",
        "defaultRaw": true,
        "name": "retry",
        "description": "Retry the function."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "Formatted data from one page."
    },
    "generator": false
  },
  {
    "__docId__": 236,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_getMovies",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#_getMovies",
    "access": null,
    "description": "All the found movies.",
    "lineNumber": 131,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Array} - A list of all the found movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Array"
      ],
      "spread": false,
      "description": "A list of all the found movies."
    },
    "generator": false
  },
  {
    "__docId__": 237,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/movies/yts.js~YTS",
    "longname": "src/providers/movies/yts.js~YTS#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 155,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} - A list of scraped movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 238,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/shows/extratorrent.js",
    "memberof": null,
    "longname": "src/providers/shows/extratorrent.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport ExtraTorrentAPI from \"extratorrent-api\";\n\nimport Extractor from \"../extractors/showextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping shows from https://extratorrent.cc/. */\nexport default class ExtraTorrent {\n\n   /**\n    * Create an extratorrent object for show content.\n    * @param {String} name - The name of the content provider.\n    * @param {?Boolean} debug - Debug mode for extra output.\n    */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting show data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new ExtraTorrentAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://extratorrent.cc/.\n   * @returns {Show[]} - A list of scraped shows.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.category = \"tv\";\n      provider.query.page = 1;\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 239,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "ExtraTorrent",
    "memberof": "src/providers/shows/extratorrent.js",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/shows/extratorrent.js",
    "importStyle": "ExtraTorrent",
    "description": "Class for scraping shows from https://extratorrent.cc/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 240,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent#constructor",
    "access": null,
    "description": "Create an extratorrent object for show content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the content provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 241,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 242,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent#_extractor",
    "access": null,
    "description": "The extractor object for getting show data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 243,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 244,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/shows/extratorrent.js~ExtraTorrent",
    "longname": "src/providers/shows/extratorrent.js~ExtraTorrent#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} - A list of scraped shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://extratorrent.cc/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 245,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/shows/eztv.js",
    "memberof": null,
    "longname": "src/providers/shows/eztv.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport EztvAPI from \"eztv-api-pt\";\n\nimport Extractor from \"../extractors/showextractor\";\nimport Util from \"../../util\";\nimport { maxWebRequest } from \"../../config/constants\";\n\n/** Class for scraping shows from https://eztv.ag/. */\nexport default class EZTV {\n\n  /**\n   * Create an eztv object for show content.\n   * @param {String} name - The name of the torrent provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * A configured EZTV API.\n     * @type {EztvAPI}\n     * @see https://github.com/ChrisAlderson/eztv-api-pt\n     */\n    this._eztv = new EztvAPI({ debug });\n\n    /**\n     * The extractor object for getting show data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, this._eztv, debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @returns {Show[]} - A list of scraped shows.\n   */\n  async search() {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      const shows = await this._eztv.getAllShows();\n      logger.info(`${this.name}: Found ${shows.length} shows.`);\n\n      return await asyncq.mapLimit(shows, maxWebRequest, async show => {\n        try {\n          show = await this._eztv.getShowData(show);\n          return await this._extractor.getShow(show);\n        } catch (err) {\n          return this._util.onError(err);\n        }\n      });\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 246,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "EZTV",
    "memberof": "src/providers/shows/eztv.js",
    "longname": "src/providers/shows/eztv.js~EZTV",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/shows/eztv.js",
    "importStyle": "EZTV",
    "description": "Class for scraping shows from https://eztv.ag/.",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 247,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#constructor",
    "access": null,
    "description": "Create an eztv object for show content.",
    "lineNumber": 17,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the torrent provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 248,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 22,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 249,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_eztv",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#_eztv",
    "access": null,
    "description": "A configured EZTV API.",
    "see": [
      "https://github.com/ChrisAlderson/eztv-api-pt"
    ],
    "lineNumber": 29,
    "type": {
      "nullable": null,
      "types": [
        "EztvAPI"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 250,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#_extractor",
    "access": null,
    "description": "The extractor object for getting show data on torrents.",
    "lineNumber": 35,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 251,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 41,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 252,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/shows/eztv.js~EZTV",
    "longname": "src/providers/shows/eztv.js~EZTV#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} - A list of scraped shows."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 253,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/providers/shows/kat.js",
    "memberof": null,
    "longname": "src/providers/shows/kat.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\nimport KatAPI from \"kat-api-pt\";\n\nimport Extractor from \"../extractors/showextractor\";\nimport Util from \"../../util\";\n\n/** Class for scraping shows from https://kat.cr/. */\nexport default class KAT {\n\n  /**\n   * Create a kat object for show content.\n   * @param {String} name - The name of the torrent provider.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(name, debug) {\n    /**\n     * The name of the torrent provider.\n     * @type {String}\n     */\n    this.name = name;\n\n    /**\n     * The extractor object for getting show data on torrents.\n     * @type {Extractor}\n     */\n    this._extractor = new Extractor(this.name, new KatAPI({ debug }), debug);\n\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    this._util = new Util();\n  };\n\n  /**\n   * Returns a list of all the inserted torrents.\n   * @param {Object} provider - The provider to query https://kat.cr/.\n   * @returns {Show[]} - A list of scraped shows.\n   */\n  async search(provider) {\n    try {\n      logger.info(`${this.name}: Starting scraping...`);\n      provider.query.page = 1;\n      provider.query.verified = 1;\n      provider.query.adult_filter = 1;\n      provider.query.category = \"tv\";\n      provider.query.language = \"en\";\n\n      return await this._extractor.search(provider);\n    } catch (err) {\n      return this._util.onError(err);\n    }\n  };\n\n};\n"
  },
  {
    "__docId__": 254,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "KAT",
    "memberof": "src/providers/shows/kat.js",
    "longname": "src/providers/shows/kat.js~KAT",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/providers/shows/kat.js",
    "importStyle": "KAT",
    "description": "Class for scraping shows from https://kat.cr/.",
    "lineNumber": 9,
    "interface": false
  },
  {
    "__docId__": 255,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/providers/shows/kat.js~KAT",
    "longname": "src/providers/shows/kat.js~KAT#constructor",
    "access": null,
    "description": "Create a kat object for show content.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "name",
        "description": "The name of the torrent provider."
      },
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 256,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "name",
    "memberof": "src/providers/shows/kat.js~KAT",
    "longname": "src/providers/shows/kat.js~KAT#name",
    "access": null,
    "description": "The name of the torrent provider.",
    "lineNumber": 21,
    "type": {
      "nullable": null,
      "types": [
        "String"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 257,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_extractor",
    "memberof": "src/providers/shows/kat.js~KAT",
    "longname": "src/providers/shows/kat.js~KAT#_extractor",
    "access": null,
    "description": "The extractor object for getting show data on torrents.",
    "lineNumber": 27,
    "type": {
      "nullable": null,
      "types": [
        "Extractor"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 258,
    "kind": "member",
    "static": false,
    "variation": null,
    "name": "_util",
    "memberof": "src/providers/shows/kat.js~KAT",
    "longname": "src/providers/shows/kat.js~KAT#_util",
    "access": null,
    "description": "The util object with general functions.",
    "lineNumber": 33,
    "type": {
      "nullable": null,
      "types": [
        "Util"
      ],
      "spread": false,
      "description": null
    }
  },
  {
    "__docId__": 259,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/providers/shows/kat.js~KAT",
    "longname": "src/providers/shows/kat.js~KAT#search",
    "access": null,
    "description": "Returns a list of all the inserted torrents.",
    "lineNumber": 41,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} - A list of scraped shows."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "Object"
        ],
        "spread": false,
        "optional": false,
        "name": "provider",
        "description": "The provider to query https://kat.cr/."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 260,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/scraper.js",
    "memberof": null,
    "longname": "src/scraper.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport asyncq from \"async-q\";\n\nimport EZTV from \"./providers/shows/eztv\";\nimport HorribleSubs from \"./providers/anime/horriblesubs\";\nimport extratorrentAnime from \"./providers/anime/extratorrent\";\nimport extratorrentMovie from \"./providers/movies/extratorrent\";\nimport extratorrentShow from \"./providers/shows/extratorrent\";\nimport katAnime from \"./providers/anime/kat\";\nimport katMovie from \"./providers/movies/kat\";\nimport katShow from \"./providers/shows/kat\";\nimport Nyaa from \"./providers/anime/nyaa\";\nimport YTS from \"./providers/movies/yts\";\nimport Util from \"./util\";\nimport {\n  collections,\n  extratorrentAnimeProviders,\n  extratorrentMovieProviders,\n  extratorrentShowProviders,\n  katAnimeProviders,\n  katMovieProviders,\n  katShowProviders,\n  nyaaAnimeProviders\n} from \"./config/constants\";\n\n/** Class for scraping movies and shows. */\nexport default class Scraper {\n\n  /**\n   * Create a scraper object.\n   * @param {?Boolean} debug - Debug mode for extra output.\n   */\n  constructor(debug) {\n    /**\n     * The util object with general functions.\n     * @type {Util}\n     */\n    Scraper._util = new Util();\n\n    /**\n     * Debug mode for extra output.\n     * @type {Boolean}\n     */\n    Scraper._debug = debug;\n  };\n\n  /**\n   * Start show scraping from ExtraTorrent.\n   * @returns {Show[]} A list of all the scraped shows.\n   */\n  _scrapeExtraTorrentShows() {\n    return asyncq.concatSeries(extratorrentShowProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const extratorrentProvider = new extratorrentShow(provider.name, Scraper._debug);\n        const extratorrentShows = await extratorrentProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return extratorrentShows;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start scraping from EZTV.\n   * @returns {Show[]} A list of all the scraped shows.\n   */\n  async _scrapeEZTVShows() {\n    try {\n      const eztv = new EZTV(\"EZTV\", Scraper._debug);\n      Scraper._util.setStatus(`Scraping ${eztv.name}`);\n      const eztvShows = await eztv.search();\n      logger.info(`${eztv.name}: Done.`);\n      return eztvShows;\n    } catch (err) {\n      return Scraper._util.onError(err);\n    }\n  };\n\n  /**\n   * Start show scraping from KAT.\n   * @returns {Show[]} A list of all the scraped shows.\n   */\n  _scrapeKATShows() {\n    return asyncq.concatSeries(katShowProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const katProvider = new katShow(provider.name, Scraper._debug);\n        const katShows = await katProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return katShows;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start movie scraping from ExtraTorrent.\n   * @returns {Movie[]} A list of all the scraped movies.\n   */\n  _scrapeExtraTorrentMovies() {\n    return asyncq.concatSeries(extratorrentMovieProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const extratorrentProvider = new extratorrentMovie(provider.name, Scraper._debug);\n        const extratorrentMovies = await extratorrentProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return extratorrentMovies;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start movie scraping from KAT.\n   * @returns {Movie[]} A list of all the scraped movies.\n   */\n  _scrapeKATMovies() {\n    return asyncq.concatSeries(katMovieProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const katProvider = new katMovie(provider.name, Scraper._debug);\n        const katShows = await katProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return katShows;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start scraping from YTS.\n   * @returns {Movie[]} A list of all the scraped movies.\n   */\n  async _scrapeYTSMovies() {\n    try {\n      const yts = new YTS(\"YTS\");\n      Scraper._util.setStatus(`Scraping ${yts.name}`);\n      const ytsMovies = await yts.search();\n      logger.info(`${yts.name}: Done.`);\n      return ytsMovies;\n    } catch (err) {\n      return Scraper._util.onError(err);\n    }\n  };\n\n  /**\n   * Start anime scraping from ExtraTorrent.\n   * @returns {Anime[]} A list of all the scraped movies.\n   */\n  _scrapeExtraTorrentAnime() {\n    return asyncq.concatSeries(extratorrentAnimeProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const extratorrentProvider = new extratorrentAnime(provider.name, Scraper._debug);\n        const extratorrentAnimes = await extratorrentProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return extratorrentAnimes;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start scraping from HorribleSubs.\n   * @returns {Anime[]} A list of all the scraped anime.\n   */\n  async _scrapeHorribleSubsAnime() {\n    try {\n      const horribleSubs = new HorribleSubs(\"HorribleSubs\", Scraper._debug);\n      Scraper._util.setStatus(`Scraping ${horribleSubs.name}`);\n      const horribleSubsAnime = await horribleSubs.search();\n      logger.info(`${horribleSubs.name}: Done.`);\n      return horribleSubsAnime;\n    } catch (err) {\n      return Scraper._util.onError(err);\n    }\n  };\n\n  /**\n   * Start scraping from KAT.\n   * @returns {Anime[]} A list of all the scraped anime.\n   */\n  async _scrapeKATAnime() {\n    return asyncq.concatSeries(katAnimeProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const katProvider = new katAnime(provider.name, Scraper._debug);\n        const katAnimes = await katProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return katAnimes;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /**\n   * Start scraping from Nyaa.\n   * @returns {Anime[]} A list of all the scraped anime.\n   */\n  async _scrapeNyaaAnime() {\n    return asyncq.concatSeries(nyaaAnimeProviders, async provider => {\n      try {\n        Scraper._util.setStatus(`Scraping ${provider.name}`);\n        const nyaaProvider = new Nyaa(provider.name, Scraper._debug);\n        const nyaaAnimes = await nyaaProvider.search(provider);\n        logger.info(`${provider.name}: Done.`);\n        return nyaaAnimes;\n      } catch (err) {\n        return Scraper._util.onError(err);\n      }\n    });\n  };\n\n  /** Initiate the scraping. */\n  scrape() {\n    Scraper._util.setLastUpdated();\n\n    asyncq.eachSeries([\n      this._scrapeEZTVShows,\n      this._scrapeExtraTorrentShows,\n      // this._scrapeKATShows,\n\n      this._scrapeExtraTorrentMovies,\n      // this._scrapeKATMovies,\n      this._scrapeYTSMovies,\n\n      this._scrapeExtraTorrentAnime,\n      this._scrapeHorribleSubsAnime,\n      // this._scrapeKATAnime,\n      this._scrapeNyaaAnime\n    ], scraper => scraper())\n      .then(() => Scraper._util.setStatus())\n      .then(() => asyncq.eachSeries(collections, collection => Scraper._util.exportCollection(collection)))\n      .catch(err => Scraper._util.onError(`Error while scraping: ${err}`));\n  };\n\n};\n"
  },
  {
    "__docId__": 261,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Scraper",
    "memberof": "src/scraper.js",
    "longname": "src/scraper.js~Scraper",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/scraper.js",
    "importStyle": "Scraper",
    "description": "Class for scraping movies and shows.",
    "lineNumber": 27,
    "interface": false
  },
  {
    "__docId__": 262,
    "kind": "constructor",
    "static": false,
    "variation": null,
    "name": "constructor",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#constructor",
    "access": null,
    "description": "Create a scraper object.",
    "lineNumber": 33,
    "params": [
      {
        "nullable": true,
        "types": [
          "Boolean"
        ],
        "spread": false,
        "optional": false,
        "name": "debug",
        "description": "Debug mode for extra output."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 263,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeExtraTorrentShows",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeExtraTorrentShows",
    "access": null,
    "description": "Start show scraping from ExtraTorrent.",
    "lineNumber": 51,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} A list of all the scraped shows."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of all the scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 264,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeEZTVShows",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeEZTVShows",
    "access": null,
    "description": "Start scraping from EZTV.",
    "lineNumber": 69,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} A list of all the scraped shows."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of all the scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 265,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeKATShows",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeKATShows",
    "access": null,
    "description": "Start show scraping from KAT.",
    "lineNumber": 85,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Show[]} A list of all the scraped shows."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Show[]"
      ],
      "spread": false,
      "description": "A list of all the scraped shows."
    },
    "generator": false
  },
  {
    "__docId__": 266,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeExtraTorrentMovies",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeExtraTorrentMovies",
    "access": null,
    "description": "Start movie scraping from ExtraTorrent.",
    "lineNumber": 103,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} A list of all the scraped movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of all the scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 267,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeKATMovies",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeKATMovies",
    "access": null,
    "description": "Start movie scraping from KAT.",
    "lineNumber": 121,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} A list of all the scraped movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of all the scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 268,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeYTSMovies",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeYTSMovies",
    "access": null,
    "description": "Start scraping from YTS.",
    "lineNumber": 139,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Movie[]} A list of all the scraped movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Movie[]"
      ],
      "spread": false,
      "description": "A list of all the scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 269,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeExtraTorrentAnime",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeExtraTorrentAnime",
    "access": null,
    "description": "Start anime scraping from ExtraTorrent.",
    "lineNumber": 155,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} A list of all the scraped movies."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of all the scraped movies."
    },
    "generator": false
  },
  {
    "__docId__": 270,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeHorribleSubsAnime",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeHorribleSubsAnime",
    "access": null,
    "description": "Start scraping from HorribleSubs.",
    "lineNumber": 173,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} A list of all the scraped anime."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of all the scraped anime."
    },
    "generator": false
  },
  {
    "__docId__": 271,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeKATAnime",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeKATAnime",
    "access": null,
    "description": "Start scraping from KAT.",
    "lineNumber": 189,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} A list of all the scraped anime."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of all the scraped anime."
    },
    "generator": false
  },
  {
    "__docId__": 272,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_scrapeNyaaAnime",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#_scrapeNyaaAnime",
    "access": null,
    "description": "Start scraping from Nyaa.",
    "lineNumber": 207,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Anime[]} A list of all the scraped anime."
      }
    ],
    "params": [],
    "return": {
      "nullable": null,
      "types": [
        "Anime[]"
      ],
      "spread": false,
      "description": "A list of all the scraped anime."
    },
    "generator": false
  },
  {
    "__docId__": 273,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "scrape",
    "memberof": "src/scraper.js~Scraper",
    "longname": "src/scraper.js~Scraper#scrape",
    "access": null,
    "description": "Initiate the scraping.",
    "lineNumber": 222,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 274,
    "kind": "file",
    "static": true,
    "variation": null,
    "name": "src/util.js",
    "memberof": null,
    "longname": "src/util.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "// Import the neccesary modules.\nimport childProcess from \"child_process\";\nimport fs from \"fs\";\nimport path from \"path\";\n\nimport { dbName, statusFile, tempDir, traktKey, updatedFile } from \"./config/constants\";\nimport { name } from \"../package.json\";\n\n/** Class holding the frequently used functions. */\nexport default class Util {\n\n  /**\n   * Create an emty file.\n   * @param {String} path - The path to the file to create.\n   */\n  _createEmptyFile(path) {\n    fs.createWriteStream(path).end();\n  };\n\n  /** Create the temporary directory. */\n  createTemp() {\n    if (!fs.existsSync(tempDir)) fs.mkdirSync(tempDir);\n    if (fs.existsSync(tempDir)) this._resetTemp();\n\n    this._createEmptyFile(path.join(tempDir, statusFile));\n    this._createEmptyFile(path.join(tempDir, updatedFile));\n  };\n\n  /**\n   * Execute a command from within the root folder.\n   * @param {String} cmd - The command to execute.\n   * @returns {Promise} - The output of the command.\n   */\n  executeCommand(cmd) {\n    return new Promise((resolve, reject) => {\n      childProcess.exec(cmd, {\n        cwd: __dirname\n      }, (err, stdout) => {\n        if (err) return reject(err);\n        return resolve(stdout.split(\"\\n\").join(\"\"));\n      });\n    });\n  };\n\n  /**\n   * Export a collection to a JSON file.\n   * @param {String} collection - The collection to export.\n   * @returns {Promise} - The output of the mongoexport command.\n   */\n  exportCollection(collection) {\n    const jsonFile = path.join(tempDir, `${collection}s.json`);\n    logger.info(`Exporting collection: '${collection}s', to: '${jsonFile}'`);\n\n    return this.executeCommand(`mongoexport --db ${dbName} --collection ${collection}s --out \"${jsonFile}\"`);\n  };\n\n  /**\n   * Import a json file to a collection.\n   * @param {String} collection - The collection to import.\n   * @param {String} jsonFile - The json file to import..\n   * @returns {Promise} - The output of the mongoimport command.\n   */\n  importCollection(collection, jsonFile) {\n    if (!path.isAbsolute(jsonFile)) jsonFile = path.join(process.cwd(), jsonFile);\n    if (!fs.existsSync(jsonFile)) throw new Error(`Error: no such file found for '${jsonFile}'`);\n\n    logger.info(`Importing collection: '${collection}', from: '${jsonFile}'`);\n\n    return this.executeCommand(`mongoimport --db ${dbName} --collection ${collection} --file \"${jsonFile}\" --upsert`);\n  };\n\n  /**\n   * Error logger function.\n   * @param {String} errorMessage - The error message you want to display.\n   * @returns {Error} - A new error with the given error message.\n   */\n  onError(errorMessage) {\n    logger.error(errorMessage);\n    return new Error(errorMessage);\n  };\n\n  /** Reset the default log file. */\n  resetLog() {\n    const logFile = path.join(tempDir, `${name}.log`);\n    if (fs.existsSync(logFile)) fs.unlinkSync(logFile);\n  };\n\n  /**\n   * Removes all the files in the temporary directory.\n   * @param {String} [tmpPath=popcorn-api/tmp] - The path to remove all the files within (Default is set in the `config/constants.js`).\n   */\n  _resetTemp(tmpPath = tempDir) {\n    const files = fs.readdirSync(tmpPath);\n    files.forEach(file => {\n      const stats = fs.statSync(path.join(tmpPath, file));\n      if (stats.isDirectory()) {\n        this.resetTemp(file);\n      } else if (stats.isFile()) {\n        fs.unlinkSync(path.join(tmpPath, file));\n      }\n    });\n  };\n\n  /**\n   * Search for a key in an array of object.\n   * @param {String} key - The key to search for.\n   * @param {String} value - The value of the key to search for.\n   * @return {Object} - The object with the correct key-value pair.\n   */\n  search(key, value) {\n    return element => element[key] === value;\n  };\n\n  /**\n   * Updates the `lastUpdated.json` file.\n   * @param {String} [updated=Date.now()] - The epoch time when the API last started scraping.\n   */\n  setLastUpdated(updated = (Math.floor(new Date().getTime() / 1000))) {\n    fs.writeFile(path.join(tempDir, updatedFile), JSON.stringify({\n      updated\n    }));\n  };\n\n  /**\n   * Updates the `status.json` file.\n   * @param {String} [status=Idle] - The status which will be set to in the `status.json` file.\n   */\n  setStatus(status = \"Idle\") {\n    fs.writeFile(path.join(tempDir, statusFile), JSON.stringify({\n      status\n    }));\n  };\n\n};\n"
  },
  {
    "__docId__": 275,
    "kind": "class",
    "static": true,
    "variation": null,
    "name": "Util",
    "memberof": "src/util.js",
    "longname": "src/util.js~Util",
    "access": null,
    "export": true,
    "importPath": "popcorn-api/src/util.js",
    "importStyle": "Util",
    "description": "Class holding the frequently used functions.",
    "lineNumber": 10,
    "interface": false
  },
  {
    "__docId__": 276,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_createEmptyFile",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#_createEmptyFile",
    "access": null,
    "description": "Create an emty file.",
    "lineNumber": 16,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "path",
        "description": "The path to the file to create."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 277,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "createTemp",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#createTemp",
    "access": null,
    "description": "Create the temporary directory.",
    "lineNumber": 21,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 278,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "executeCommand",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#executeCommand",
    "access": null,
    "description": "Execute a command from within the root folder.",
    "lineNumber": 34,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - The output of the command."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "cmd",
        "description": "The command to execute."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "The output of the command."
    },
    "generator": false
  },
  {
    "__docId__": 279,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "exportCollection",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#exportCollection",
    "access": null,
    "description": "Export a collection to a JSON file.",
    "lineNumber": 50,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - The output of the mongoexport command."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "collection",
        "description": "The collection to export."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "The output of the mongoexport command."
    },
    "generator": false
  },
  {
    "__docId__": 280,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "importCollection",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#importCollection",
    "access": null,
    "description": "Import a json file to a collection.",
    "lineNumber": 63,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Promise} - The output of the mongoimport command."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "collection",
        "description": "The collection to import."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "jsonFile",
        "description": "The json file to import.."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Promise"
      ],
      "spread": false,
      "description": "The output of the mongoimport command."
    },
    "generator": false
  },
  {
    "__docId__": 281,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "onError",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#onError",
    "access": null,
    "description": "Error logger function.",
    "lineNumber": 77,
    "unknown": [
      {
        "tagName": "@returns",
        "tagValue": "{Error} - A new error with the given error message."
      }
    ],
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "errorMessage",
        "description": "The error message you want to display."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Error"
      ],
      "spread": false,
      "description": "A new error with the given error message."
    },
    "generator": false
  },
  {
    "__docId__": 282,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "resetLog",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#resetLog",
    "access": null,
    "description": "Reset the default log file.",
    "lineNumber": 83,
    "params": [],
    "generator": false
  },
  {
    "__docId__": 283,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "_resetTemp",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#_resetTemp",
    "access": null,
    "description": "Removes all the files in the temporary directory.",
    "lineNumber": 92,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "popcorn-api/tmp",
        "defaultRaw": "popcorn-api/tmp",
        "name": "tmpPath",
        "description": "The path to remove all the files within (Default is set in the `config/constants.js`)."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 284,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "search",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#search",
    "access": null,
    "description": "Search for a key in an array of object.",
    "lineNumber": 110,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "key",
        "description": "The key to search for."
      },
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": false,
        "name": "value",
        "description": "The value of the key to search for."
      }
    ],
    "return": {
      "nullable": null,
      "types": [
        "Object"
      ],
      "spread": false,
      "description": "The object with the correct key-value pair."
    },
    "generator": false
  },
  {
    "__docId__": 285,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "setLastUpdated",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#setLastUpdated",
    "access": null,
    "description": "Updates the `lastUpdated.json` file.",
    "lineNumber": 118,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "Date.now()",
        "defaultRaw": "Date.now()",
        "name": "updated",
        "description": "The epoch time when the API last started scraping."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 286,
    "kind": "method",
    "static": false,
    "variation": null,
    "name": "setStatus",
    "memberof": "src/util.js~Util",
    "longname": "src/util.js~Util#setStatus",
    "access": null,
    "description": "Updates the `status.json` file.",
    "lineNumber": 128,
    "params": [
      {
        "nullable": null,
        "types": [
          "String"
        ],
        "spread": false,
        "optional": true,
        "defaultValue": "Idle",
        "defaultRaw": "Idle",
        "name": "status",
        "description": "The status which will be set to in the `status.json` file."
      }
    ],
    "generator": false
  },
  {
    "__docId__": 288,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Infinity",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 289,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~NaN",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 290,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~undefined",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 291,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~null",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 292,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 293,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~object",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 294,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 295,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~function",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 296,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 297,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~boolean",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 298,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Symbol",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 299,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Error",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 300,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~EvalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 301,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~InternalError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 302,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RangeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 303,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ReferenceError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 304,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~SyntaxError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 305,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~TypeError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 306,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~URIError",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 307,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 308,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~number",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 309,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Date",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 310,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~String",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 311,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~string",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 312,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~RegExp",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 313,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 314,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 315,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 316,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint8ClampedArray",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 317,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 318,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint16Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 319,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Int32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 320,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Uint32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 321,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float32Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 322,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Float64Array",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 323,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Map",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 324,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Set",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 325,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakMap",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 326,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~WeakSet",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 327,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~ArrayBuffer",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 328,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~DataView",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 329,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~JSON",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 330,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Promise",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 331,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Generator",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 332,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~GeneratorFunction",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 333,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Reflect",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 334,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "BuiltinExternal/ECMAScriptExternal.js",
    "longname": "BuiltinExternal/ECMAScriptExternal.js~Proxy",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 336,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "CanvasRenderingContext2D",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~CanvasRenderingContext2D",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 337,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "DocumentFragment",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/DocumentFragment",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~DocumentFragment",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 338,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Element",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Element",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Element",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 339,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Event",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Event",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Event",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 340,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "Node",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/Node",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~Node",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 341,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "NodeList",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/API/NodeList",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~NodeList",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 342,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "XMLHttpRequest",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~XMLHttpRequest",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 343,
    "kind": "external",
    "static": true,
    "variation": null,
    "name": "AudioContext",
    "externalLink": "https://developer.mozilla.org/en/docs/Web/API/AudioContext",
    "memberof": "BuiltinExternal/WebAPIExternal.js",
    "longname": "BuiltinExternal/WebAPIExternal.js~AudioContext",
    "access": null,
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 344,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "test/controllers/animes.js",
    "memberof": null,
    "longname": "test/controllers/animes.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport { expect } from \"chai\";\n\nimport Index from \"../../src/index\";\nimport { port } from \"../../src/config/constants\";\n\nchai.use(chaiHttp);\n\n/** @test {Animes} */\ndescribe(\"Animes:\", ()=> {\n\n  let page, anime;\n\n  before(() => {\n    page = 1;\n    anime = \"5646\";\n  });\n\n  /** @test {Animes#getAnimes} */\n  it(\"GET /animes\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/animes\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Animes#getPage} */\n  it(\"GET /animes/:page\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/animes/${page}`)\n      // .query()\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Animes#getAnime} */\n  it(\"GET /anime/:id\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/anime/${anime}`)\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Animes#getRandomAnime} */\n  it(\"GET /random/anime\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/random/anime\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n});\n"
  },
  {
    "__docId__": 345,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe0",
    "testId": 0,
    "memberof": "test/controllers/animes.js",
    "testDepth": 0,
    "longname": "test/controllers/animes.js~describe0",
    "access": null,
    "description": "Animes:",
    "lineNumber": 11,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Animes}"
      }
    ],
    "testTargets": [
      "Animes"
    ]
  },
  {
    "__docId__": 346,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it1",
    "testId": 1,
    "memberof": "test/controllers/animes.js~describe0",
    "testDepth": 1,
    "longname": "test/controllers/animes.js~describe0.it1",
    "access": null,
    "description": "GET /animes",
    "lineNumber": 21,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Animes#getAnimes}"
      }
    ],
    "testTargets": [
      "Animes#getAnimes"
    ]
  },
  {
    "__docId__": 347,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it2",
    "testId": 2,
    "memberof": "test/controllers/animes.js~describe0",
    "testDepth": 1,
    "longname": "test/controllers/animes.js~describe0.it2",
    "access": null,
    "description": "GET /animes/:page",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Animes#getPage}"
      }
    ],
    "testTargets": [
      "Animes#getPage"
    ]
  },
  {
    "__docId__": 348,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it3",
    "testId": 3,
    "memberof": "test/controllers/animes.js~describe0",
    "testDepth": 1,
    "longname": "test/controllers/animes.js~describe0.it3",
    "access": null,
    "description": "GET /anime/:id",
    "lineNumber": 44,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Animes#getAnime}"
      }
    ],
    "testTargets": [
      "Animes#getAnime"
    ]
  },
  {
    "__docId__": 349,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it4",
    "testId": 4,
    "memberof": "test/controllers/animes.js~describe0",
    "testDepth": 1,
    "longname": "test/controllers/animes.js~describe0.it4",
    "access": null,
    "description": "GET /random/anime",
    "lineNumber": 55,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Animes#getRandomAnime}"
      }
    ],
    "testTargets": [
      "Animes#getRandomAnime"
    ]
  },
  {
    "__docId__": 350,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "test/controllers/index.js",
    "memberof": null,
    "longname": "test/controllers/index.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport { expect } from \"chai\";\n\nimport Index from \"../../src/index\";\nimport { port } from \"../../src/config/constants\";\n\nchai.use(chaiHttp);\n\n/** @test {Index} */\ndescribe(\"Index:\", ()=> {\n\n  /** @test {Index#getIndex} */\n  it(\"GET /\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Index#getErrorLog} */\n  it(\"GET /logs/error\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/logs/error`)\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n});\n"
  },
  {
    "__docId__": 351,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe5",
    "testId": 5,
    "memberof": "test/controllers/index.js",
    "testDepth": 0,
    "longname": "test/controllers/index.js~describe5",
    "access": null,
    "description": "Index:",
    "lineNumber": 11,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Index}"
      }
    ],
    "testTargets": [
      "Index"
    ]
  },
  {
    "__docId__": 352,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it6",
    "testId": 6,
    "memberof": "test/controllers/index.js~describe5",
    "testDepth": 1,
    "longname": "test/controllers/index.js~describe5.it6",
    "access": null,
    "description": "GET /",
    "lineNumber": 14,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Index#getIndex}"
      }
    ],
    "testTargets": [
      "Index#getIndex"
    ]
  },
  {
    "__docId__": 353,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it7",
    "testId": 7,
    "memberof": "test/controllers/index.js~describe5",
    "testDepth": 1,
    "longname": "test/controllers/index.js~describe5.it7",
    "access": null,
    "description": "GET /logs/error",
    "lineNumber": 25,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Index#getErrorLog}"
      }
    ],
    "testTargets": [
      "Index#getErrorLog"
    ]
  },
  {
    "__docId__": 354,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "test/controllers/movies.js",
    "memberof": null,
    "longname": "test/controllers/movies.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport { expect } from \"chai\";\n\nimport Index from \"../../src/index\";\nimport { port } from \"../../src/config/constants\";\n\nchai.use(chaiHttp);\n\n/** @test {Movies} */\ndescribe(\"Movies:\", ()=> {\n\n  let page, movie;\n\n  before(() => {\n    page = 1;\n    movie = \"tt1375666\";\n  });\n\n  /** @test {Movies#getMovies} */\n  it(\"GET /movies\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/movies\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Movies#getPage} */\n  it(\"GET /movies/:page\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/movies/${page}`)\n      // .query()\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Movies#getMovie} */\n  it(\"GET /movie/:id\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/movie/${movie}`)\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Movies#getRandomMovie} */\n  it(\"GET /random/movie\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/random/movie\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n});\n"
  },
  {
    "__docId__": 355,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe8",
    "testId": 8,
    "memberof": "test/controllers/movies.js",
    "testDepth": 0,
    "longname": "test/controllers/movies.js~describe8",
    "access": null,
    "description": "Movies:",
    "lineNumber": 11,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Movies}"
      }
    ],
    "testTargets": [
      "Movies"
    ]
  },
  {
    "__docId__": 356,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it9",
    "testId": 9,
    "memberof": "test/controllers/movies.js~describe8",
    "testDepth": 1,
    "longname": "test/controllers/movies.js~describe8.it9",
    "access": null,
    "description": "GET /movies",
    "lineNumber": 21,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Movies#getMovies}"
      }
    ],
    "testTargets": [
      "Movies#getMovies"
    ]
  },
  {
    "__docId__": 357,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it10",
    "testId": 10,
    "memberof": "test/controllers/movies.js~describe8",
    "testDepth": 1,
    "longname": "test/controllers/movies.js~describe8.it10",
    "access": null,
    "description": "GET /movies/:page",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Movies#getPage}"
      }
    ],
    "testTargets": [
      "Movies#getPage"
    ]
  },
  {
    "__docId__": 358,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it11",
    "testId": 11,
    "memberof": "test/controllers/movies.js~describe8",
    "testDepth": 1,
    "longname": "test/controllers/movies.js~describe8.it11",
    "access": null,
    "description": "GET /movie/:id",
    "lineNumber": 44,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Movies#getMovie}"
      }
    ],
    "testTargets": [
      "Movies#getMovie"
    ]
  },
  {
    "__docId__": 359,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it12",
    "testId": 12,
    "memberof": "test/controllers/movies.js~describe8",
    "testDepth": 1,
    "longname": "test/controllers/movies.js~describe8.it12",
    "access": null,
    "description": "GET /random/movie",
    "lineNumber": 55,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Movies#getRandomMovie}"
      }
    ],
    "testTargets": [
      "Movies#getRandomMovie"
    ]
  },
  {
    "__docId__": 360,
    "kind": "testFile",
    "static": true,
    "variation": null,
    "name": "test/controllers/shows.js",
    "memberof": null,
    "longname": "test/controllers/shows.js",
    "access": null,
    "description": null,
    "lineNumber": 1,
    "content": "import chai from \"chai\";\nimport chaiHttp from \"chai-http\";\nimport { expect } from \"chai\";\n\nimport Index from \"../../src/index\";\nimport { port } from \"../../src/config/constants\";\n\nchai.use(chaiHttp);\n\n/** @test {Shows} */\ndescribe(\"Shows:\", () => {\n\n  let page, show;\n\n  before(() => {\n    page = 1;\n    show = \"tt0944947\";\n  });\n\n  /** @test {Shows#getShows} */\n  it(\"GET /shows\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/shows\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Shows#getPage} */\n  it(\"GET /shows/:page\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/shows/${page}`)\n      .query({\n        sort: \"seeds\",\n        genre: \"All\",\n        order: -1\n      })\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Shows#getShow} */\n  it(\"GET /show/:id\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(`/show/${show}`)\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n  /** @test {Shows#getRandomShow} */\n  it(\"GET /random/show\", done => {\n    chai.request(`http://localhost:${port}`)\n      .get(\"/random/show\")\n      .then(res => {\n        expect(res).to.have.status(200);\n        expect(res).to.be.json;\n        done();\n      }).catch(err => done(err));\n  });\n\n});\n"
  },
  {
    "__docId__": 361,
    "kind": "testDescribe",
    "static": true,
    "variation": null,
    "name": "describe13",
    "testId": 13,
    "memberof": "test/controllers/shows.js",
    "testDepth": 0,
    "longname": "test/controllers/shows.js~describe13",
    "access": null,
    "description": "Shows:",
    "lineNumber": 11,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Shows}"
      }
    ],
    "testTargets": [
      "Shows"
    ]
  },
  {
    "__docId__": 362,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it14",
    "testId": 14,
    "memberof": "test/controllers/shows.js~describe13",
    "testDepth": 1,
    "longname": "test/controllers/shows.js~describe13.it14",
    "access": null,
    "description": "GET /shows",
    "lineNumber": 21,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Shows#getShows}"
      }
    ],
    "testTargets": [
      "Shows#getShows"
    ]
  },
  {
    "__docId__": 363,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it15",
    "testId": 15,
    "memberof": "test/controllers/shows.js~describe13",
    "testDepth": 1,
    "longname": "test/controllers/shows.js~describe13.it15",
    "access": null,
    "description": "GET /shows/:page",
    "lineNumber": 32,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Shows#getPage}"
      }
    ],
    "testTargets": [
      "Shows#getPage"
    ]
  },
  {
    "__docId__": 364,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it16",
    "testId": 16,
    "memberof": "test/controllers/shows.js~describe13",
    "testDepth": 1,
    "longname": "test/controllers/shows.js~describe13.it16",
    "access": null,
    "description": "GET /show/:id",
    "lineNumber": 48,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Shows#getShow}"
      }
    ],
    "testTargets": [
      "Shows#getShow"
    ]
  },
  {
    "__docId__": 365,
    "kind": "testIt",
    "static": true,
    "variation": null,
    "name": "it17",
    "testId": 17,
    "memberof": "test/controllers/shows.js~describe13",
    "testDepth": 1,
    "longname": "test/controllers/shows.js~describe13.it17",
    "access": null,
    "description": "GET /random/show",
    "lineNumber": 59,
    "unknown": [
      {
        "tagName": "@test",
        "tagValue": "{Shows#getRandomShow}"
      }
    ],
    "testTargets": [
      "Shows#getRandomShow"
    ]
  }
]